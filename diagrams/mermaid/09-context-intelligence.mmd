%% CORTEX Context Intelligence (Tier 3)
%% Shows git analysis and productivity insights

graph TB
    subgraph git["üåø GIT ANALYSIS"]
        G1["Analyze Last<br/>1,237 commits"]
        G2["Calculate Velocity<br/>42 commits/week"]
        G3["Identify Hotspots<br/>HostControlPanel.razor (28%)"]
        G4["Track Authors<br/>Expertise Areas"]
    end

    subgraph files["üìÅ FILE STABILITY"]
        F1["File Change Count<br/>67 modifications"]
        F2["Calculate Churn<br/>28% of commits"]
        F3{"Classify Stability"}
        F4["üü¢ Stable<br/>< 10% churn"]
        F5["üü° Unstable<br/>10-30% churn"]
        F6["üî¥ Volatile<br/>> 30% churn"]
    end

    subgraph session["‚è±Ô∏è SESSION ANALYTICS"]
        S1["Track Work Sessions<br/>45 sessions analyzed"]
        S2["Best Times<br/>10am-12pm (94% success)"]
        S3["Session Duration<br/>< 60 min (89% success)"]
        S4["Intent Distribution<br/>EXECUTE: 45%, PLAN: 35%"]
    end

    subgraph health["‚ù§Ô∏è CODE HEALTH"]
        H1["Test Coverage<br/>72% ‚Üí 76% (improving)"]
        H2["Build Success<br/>97% clean builds"]
        H3["Error Rate<br/>0 errors, 2 warnings"]
        H4["Overall Health<br/>‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (excellent)"]
    end

    subgraph warnings["‚ö†Ô∏è PROACTIVE WARNINGS"]
        W1["Hotspot Alert<br/>'HostControlPanel is unstable'"]
        W2["Timing Alert<br/>'Current: 2pm (81% success)'"]
        W3["Velocity Alert<br/>'Commits down 68% this week'"]
        W4["Complexity Alert<br/>'File grown to 450 lines'"]
    end

    G1 --> G2
    G2 --> G3
    G3 --> G4
    
    G3 --> F1
    F1 --> F2
    F2 --> F3
    F3 --> F4
    F3 --> F5
    F3 --> F6
    
    F5 --> W1
    F6 --> W1
    
    G4 -.-> S1
    S1 --> S2
    S2 --> S3
    S3 --> S4
    
    S2 --> W2
    G2 --> W3
    F2 --> W4
    
    H1 --> H2
    H2 --> H3
    H3 --> H4

    style git fill:#10B981,stroke:#065F46,color:#fff
    style files fill:#3B82F6,stroke:#1E3A8A,color:#fff
    style session fill:#F59E0B,stroke:#92400E,color:#fff
    style health fill:#6B46C1,stroke:#4C1D95,color:#fff
    style warnings fill:#EF4444,stroke:#991B1B,color:#fff
