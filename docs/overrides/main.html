{% extends "base.html" %}

{% block htmltitle %}
<title>{% if page and page.title and not page.is_homepage %}{{ page.title }} - {% endif %}{{ config.site_name }}</title>
{% endblock %}

{% block content %}
<!-- Tales-Inspired Custom Layout -->
<div class="tales-wrapper">
    <!-- Header with Gradient -->
    <header class="header">
        <h1>{{ config.site_name }}</h1>
        <div class="subtitle">
            <span class="word">Cognitive</span>
            <span class="word">Operation</span>
            <span class="word">&</span>
            <span class="word">Reasoning</span>
            <span class="word">Through</span>
            <span class="word">EXtension</span>
        </div>
    </header>

    <!-- Navigation -->
    <nav class="nav">
        {% if nav %}
            {% for nav_item in nav %}
                {% if nav_item.children %}
                    <a href="{{ nav_item.children[0].url|url }}" class="nav-item{% if nav_item.active %} active{% endif %}">
                        {{ nav_item.title }}
                    </a>
                {% else %}
                    <a href="{{ nav_item.url|url }}" class="nav-item{% if nav_item.active %} active{% endif %}">
                        {{ nav_item.title }}
                    </a>
                {% endif %}
            {% endfor %}
        {% endif %}
    </nav>

    <!-- Main Content Container -->
    <div class="container">
        <div class="content">
            {% if page and page.meta.description %}
            <div class="alert alert-info">
                {{ page.meta.description }}
            </div>
            {% endif %}

            {{ page.content }}
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer-branding">
        <p><strong>CORTEX</strong> - Cognitive AI Assistant for GitHub Copilot</p>
        <p>{{ config.copyright }}</p>
        {% if config.repo_url %}
        <p>
            <a href="{{ config.repo_url }}" target="_blank">View on GitHub</a>
        </p>
        {% endif %}
    </footer>
</div>
{% endblock %}

{% block styles %}
{{ super() }}
<link rel="stylesheet" href="{{ 'stylesheets/tales-design.css'|url }}">
{% endblock %}
