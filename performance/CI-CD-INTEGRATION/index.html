<!DOCTYPE html>
<html class="no-js">
<head>
    <meta charset="utf-8">
    <title>Performance CI/CD Integration - CORTEX</title>
    <meta name="description" content="Cognitive Operation & Reasoning Through EXtension for Copilot">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Bootstrap styles -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/css/bootstrap.min.css">
    
    <!-- Font-Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
    <!-- Google Webfonts -->
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,600|PT+Serif:400,400italic' rel='stylesheet' type='text/css'>
    
    <!-- Custom Styles -->
    <link rel="stylesheet" href="../../assets/css/cortex-tales.css">
    
    <!-- Syntax Highlighting - Dark Theme -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/vs2015.min.css">
    
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
    <header>
        <!-- Wide Header with Centered Logo -->
        <div class="widewrapper masthead">
            <div class="container">
                <div class="logo-container">
                    <a href="../.." id="logo">
                        <img src="../../assets/images/CORTEX-logo.png" alt="CORTEX" style="width: 300px; height: 300px;">
                    </a>
                </div>
            </div>
        </div>

        <!-- Horizontal Navigation Bar -->
        <div class="widewrapper subheader">
            <div class="container">
                <nav class="horizontal-nav">
                    <ul class="nav-menu">
                        <li><a href="../..">Home</a></li>
                        <li><a href="../../diagrams/story/The-CORTEX-Story/">The CORTEX Birth</a></li>
                        <li><a href="../../governance/THE-RULEBOOK/">Cortex Bible</a></li>
                        <li><a href="../../architecture/overview/">Architecture</a></li>
                        <li><a href="../../reference/api/">Technical Docs</a></li>
                        <li><a href="../../guides/developer-guide/">User Guides</a></li>
                        <li><a href="../../getting-started/quick-start/">Examples</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <div class="widewrapper main">
        <div class="container">
            <div class="row">
                <!-- Left Sidebar Navigation (Table of Contents) -->
                <div class="col-md-3 sidebar-left">
                    <!-- Navigation Tree -->
                    
                    <div class="nav-tree">
                        <h4>Navigation</h4>
                        <ul>
                        
                            
                            <li><a href="../.." >Home</a></li>
                            
                        
                            
                            <li class="nav-group">
                                <strong>The CORTEX Birth</strong>
                                <ul>
                                
                                    <li><a href="../../diagrams/story/The-CORTEX-Story/" >The Awakening Story</a></li>
                                
                                    <li><a href="../../diagrams/narratives/" >Narratives</a></li>
                                
                                </ul>
                            </li>
                            
                        
                            
                            <li><a href="../../governance/THE-RULEBOOK/" >Cortex Bible</a></li>
                            
                        
                            
                            <li class="nav-group">
                                <strong>Architecture</strong>
                                <ul>
                                
                                    <li><a href="../../architecture/overview/" >Overview</a></li>
                                
                                    <li><a href="../../architecture/tier-system/" >Tier System</a></li>
                                
                                    <li><a href="../../architecture/agents/" >Agents</a></li>
                                
                                    <li><a href="../../architecture/brain-protection/" >Brain Protection</a></li>
                                
                                    <li><a href="../.." >Diagrams</a></li>
                                
                                </ul>
                            </li>
                            
                        
                            
                            <li class="nav-group">
                                <strong>Technical Docs</strong>
                                <ul>
                                
                                    <li><a href="../../reference/api/" >API Reference</a></li>
                                
                                    <li><a href="../../reference/configuration/" >Configuration</a></li>
                                
                                    <li><a href="../../reference/response-templates/" >Response Templates</a></li>
                                
                                    <li><a href="../.." >Operations</a></li>
                                
                                </ul>
                            </li>
                            
                        
                            
                            <li class="nav-group">
                                <strong>User Guides</strong>
                                <ul>
                                
                                    <li><a href="../../getting-started/quick-start/" >Quick Start</a></li>
                                
                                    <li><a href="../../getting-started/installation/" >Installation</a></li>
                                
                                    <li><a href="../../getting-started/configuration/" >Configuration</a></li>
                                
                                    <li><a href="../../guides/developer-guide/" >Developer Guide</a></li>
                                
                                    <li><a href="../../guides/admin-guide/" >Admin Guide</a></li>
                                
                                    <li><a href="../../guides/best-practices/" >Best Practices</a></li>
                                
                                    <li><a href="../../guides/troubleshooting/" >Troubleshooting</a></li>
                                
                                </ul>
                            </li>
                            
                        
                            
                            <li class="nav-group">
                                <strong>Examples</strong>
                                <ul>
                                
                                    <li><a href="../../getting-started/quick-start/" >Quick Start</a></li>
                                
                                    <li><a href="../../guides/best-practices/" >Best Practices</a></li>
                                
                                    <li><a href="../../diagrams/prompts/" >DALL-E Prompts</a></li>
                                
                                </ul>
                            </li>
                            
                        
                        </ul>
                    </div>
                    
                    
                    <!-- On This Page TOC - Only for pages with reasonable length TOC -->
                    
                    <div class="toc-wrapper">
                        <h4>On This Page</h4>
                        Performance CI/CD Integration - #performance-cicd-integration
    üéØ Overview - #overview
    üöÄ GitHub Actions Workflow - #github-actions-workflow
    üìä Test Execution - #test-execution
    üîç Monitoring &amp; Alerts - #monitoring-alerts
    üìà Performance Artifacts - #performance-artifacts
    ‚ö†Ô∏è Failure Handling - #failure-handling
    üîß Configuration - #configuration
    üìö References - #references
    ‚úÖ Success Criteria - #success-criteria

                    </div>
                    
                </div>

                <!-- Main Content Area (No Right Sidebar) -->
                <div class="col-md-9 content-main">
                    <article>
                        <h1 id="performance-cicd-integration">Performance CI/CD Integration<a class="headerlink" href="#performance-cicd-integration" title="Permanent link">&para;</a></h1>
<p><strong>Phase:</strong> 6.1 - Performance Optimization<br />
<strong>Task:</strong> CI/CD Gates<br />
<strong>Status:</strong> ‚úÖ COMPLETE</p>
<hr />
<h2 id="overview">üéØ Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h2>
<p>Performance tests are automatically run on every push and pull request to prevent performance regressions. Tests fail if any operation exceeds the established baseline thresholds.</p>
<hr />
<h2 id="github-actions-workflow">üöÄ GitHub Actions Workflow<a class="headerlink" href="#github-actions-workflow" title="Permanent link">&para;</a></h2>
<p><strong>File:</strong> <code>.github/workflows/performance.yml</code></p>
<h3 id="triggers">Triggers<a class="headerlink" href="#triggers" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>Push to branches:</strong> <code>main</code>, <code>CORTEX-2.0</code>, <code>develop</code></li>
<li><strong>Pull requests</strong> to these branches</li>
<li><strong>Daily schedule:</strong> 2 AM UTC (catches gradual performance drift)</li>
<li><strong>Manual trigger:</strong> <code>workflow_dispatch</code> for on-demand testing</li>
</ol>
<h3 id="jobs">Jobs<a class="headerlink" href="#jobs" title="Permanent link">&para;</a></h3>
<h4 id="1-performance-tests-performance">1. Performance Tests (<code>performance</code>)<a class="headerlink" href="#1-performance-tests-performance" title="Permanent link">&para;</a></h4>
<p><strong>Duration:</strong> ~6-8 seconds<br />
<strong>Strategy:</strong> Fast tests ‚Üí Slow tests ‚Üí Profiler</p>
<p><strong>Steps:</strong>
- ‚úÖ Checkout repository (full history for git metrics)
- ‚úÖ Set up Python 3.11
- ‚úÖ Cache pip dependencies
- ‚úÖ Install dependencies (pytest, pytest-benchmark, pyyaml)
- ‚úÖ Initialize CORTEX brain databases (Tier 1, 2, 3)
- ‚úÖ Run fast performance tests (18 tests, ~2s)
- ‚úÖ Run slow performance tests (6 tests, ~8s)
- ‚úÖ Run full profiler (optional, logs only)
- ‚úÖ Upload performance reports as artifacts
- ‚úÖ Check for regressions (fail build if thresholds exceeded)
- ‚úÖ Comment on PR with results</p>
<p><strong>Thresholds Enforced:</strong>
- Tier 1: ‚â§50ms (baseline: 0.48ms)
- Tier 2: ‚â§150ms (baseline: 0.72ms)
- Tier 3: ‚â§500ms (baseline: 52.51ms)
- Operations: &lt;5000ms (baseline: 1431ms)
- Help: &lt;1000ms (baseline: 462ms)
- Environment Setup: &lt;5000ms (baseline: 3758ms)</p>
<h4 id="2-benchmark-comparison-benchmark-comparison">2. Benchmark Comparison (<code>benchmark-comparison</code>)<a class="headerlink" href="#2-benchmark-comparison-benchmark-comparison" title="Permanent link">&para;</a></h4>
<p><strong>Runs on:</strong> Pull requests only<br />
<strong>Purpose:</strong> Compare PR performance vs base branch</p>
<p><strong>Steps:</strong>
- ‚úÖ Run profiler on PR branch
- ‚úÖ Checkout base branch
- ‚úÖ Run profiler on base branch
- ‚úÖ Upload comparison artifacts
- ‚úÖ Add comparison summary to PR</p>
<hr />
<h2 id="test-execution">üìä Test Execution<a class="headerlink" href="#test-execution" title="Permanent link">&para;</a></h2>
<h3 id="local-testing-before-push">Local Testing (Before Push)<a class="headerlink" href="#local-testing-before-push" title="Permanent link">&para;</a></h3>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="c1"># Run all performance tests</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>pytest<span class="w"> </span>tests/performance/<span class="w"> </span>-v
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="c1"># Run fast tests only (exclude slow operations)</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>pytest<span class="w"> </span>tests/performance/<span class="w"> </span>-v<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;performance and not slow&quot;</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="c1"># Run specific tier tests</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>pytest<span class="w"> </span>tests/performance/<span class="w"> </span>-v<span class="w"> </span>-k<span class="w"> </span><span class="s2">&quot;tier1&quot;</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>pytest<span class="w"> </span>tests/performance/<span class="w"> </span>-v<span class="w"> </span>-k<span class="w"> </span><span class="s2">&quot;tier2&quot;</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>pytest<span class="w"> </span>tests/performance/<span class="w"> </span>-v<span class="w"> </span>-k<span class="w"> </span><span class="s2">&quot;tier3&quot;</span>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="c1"># Run with detailed timing info</span>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>pytest<span class="w"> </span>tests/performance/<span class="w"> </span>-v<span class="w"> </span>--durations<span class="o">=</span><span class="m">10</span>
</span></code></pre></div>
<h3 id="ci-execution">CI Execution<a class="headerlink" href="#ci-execution" title="Permanent link">&para;</a></h3>
<p>Tests run automatically on push/PR:</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="c1"># Fast tests (18 tests, ~2s)</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="l l-Scalar l-Scalar-Plain">pytest tests/performance/ -v -m &quot;performance and not slow&quot;</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="l l-Scalar l-Scalar-Plain"># Slow tests (6 tests, ~8s)</span><span class="w">  </span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="l l-Scalar l-Scalar-Plain">pytest tests/performance/ -v -m &quot;slow&quot;</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="l l-Scalar l-Scalar-Plain"># Full profiler (optional, for reports)</span>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="l l-Scalar l-Scalar-Plain">python scripts/profile_performance.py</span>
</span></code></pre></div>
<hr />
<h2 id="monitoring-alerts">üîç Monitoring &amp; Alerts<a class="headerlink" href="#monitoring-alerts" title="Permanent link">&para;</a></h2>
<h3 id="build-status">Build Status<a class="headerlink" href="#build-status" title="Permanent link">&para;</a></h3>
<p>GitHub Actions shows performance test status:
- ‚úÖ <strong>Green:</strong> All tests passed, no regressions
- ‚ùå <strong>Red:</strong> Performance regression detected, build fails</p>
<h3 id="pr-comments">PR Comments<a class="headerlink" href="#pr-comments" title="Permanent link">&para;</a></h3>
<p>Automated comment on every PR:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>## üöÄ Performance Test Results
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>‚úÖ All performance tests passed!
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>### Test Summary
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>- Fast tests: ‚úÖ PASSED
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>- Slow tests: ‚úÖ PASSED
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a>### Performance Thresholds
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a>| Tier | Target | Baseline | Status |
</span><span id="__span-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a>|------|--------|----------|--------|
</span><span id="__span-2-12"><a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a>| Tier 1 | ‚â§50ms | 0.48ms | ‚úÖ 100√ó faster |
</span><span id="__span-2-13"><a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a>| Tier 2 | ‚â§150ms | 0.72ms | ‚úÖ 208√ó faster |
</span><span id="__span-2-14"><a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a>| Tier 3 | ‚â§500ms | 52.51ms | ‚úÖ 10√ó faster |
</span><span id="__span-2-15"><a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a>| Operations | &lt;5000ms | 1431ms | ‚úÖ 3.5√ó faster |
</span><span id="__span-2-16"><a id="__codelineno-2-16" name="__codelineno-2-16" href="#__codelineno-2-16"></a>
</span><span id="__span-2-17"><a id="__codelineno-2-17" name="__codelineno-2-17" href="#__codelineno-2-17"></a>üìä [View detailed performance report](...)
</span></code></pre></div>
<h3 id="daily-monitoring">Daily Monitoring<a class="headerlink" href="#daily-monitoring" title="Permanent link">&para;</a></h3>
<p><strong>Schedule:</strong> 2 AM UTC daily cron job</p>
<p><strong>Purpose:</strong> Catch performance drift over time
- Database growth
- Dependency updates
- Environmental changes</p>
<p><strong>Notification:</strong> GitHub Actions failure notifications</p>
<hr />
<h2 id="performance-artifacts">üìà Performance Artifacts<a class="headerlink" href="#performance-artifacts" title="Permanent link">&para;</a></h2>
<p>Every CI run produces artifacts:</p>
<h3 id="1-performance-report">1. Performance Report<a class="headerlink" href="#1-performance-report" title="Permanent link">&para;</a></h3>
<p><strong>File:</strong> <code>performance-report.txt</code><br />
<strong>Contents:</strong>
- Tier 1, 2, 3 profiling results
- Operation timings
- Hotspot analysis
- Performance summary</p>
<p><strong>Retention:</strong> 30 days</p>
<h3 id="2-json-logs">2. JSON Logs<a class="headerlink" href="#2-json-logs" title="Permanent link">&para;</a></h3>
<p><strong>Files:</strong> <code>logs/performance-report-*.json</code><br />
<strong>Contents:</strong>
- Machine-readable metrics
- Timestamp data
- Detailed breakdowns</p>
<p><strong>Retention:</strong> 30 days</p>
<h3 id="3-comparison-pr-only">3. Comparison (PR only)<a class="headerlink" href="#3-comparison-pr-only" title="Permanent link">&para;</a></h3>
<p><strong>Files:</strong>
- <code>pr-performance.txt</code> (PR branch)
- <code>base-performance.txt</code> (base branch)</p>
<p><strong>Retention:</strong> 30 days</p>
<hr />
<h2 id="failure-handling">‚ö†Ô∏è Failure Handling<a class="headerlink" href="#failure-handling" title="Permanent link">&para;</a></h2>
<h3 id="when-tests-fail">When Tests Fail<a class="headerlink" href="#when-tests-fail" title="Permanent link">&para;</a></h3>
<p><strong>Symptom:</strong> CI build turns red with "Performance regression detected"</p>
<p><strong>Steps to diagnose:</strong></p>
<ol>
<li>
<p><strong>Check test output:</strong>
   <div class="language-bash highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="c1"># Look for assertion failures</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>pytest<span class="w"> </span>tests/performance/<span class="w"> </span>-v<span class="w"> </span>--tb<span class="o">=</span>short
</span></code></pre></div></p>
</li>
<li>
<p><strong>Identify slow operation:</strong>
   <div class="language-text highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>AssertionError: Tier 3 analyze_file_hotspots REGRESSION: 
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>312.45ms (baseline: 258ms, target: ‚â§300ms)
</span></code></pre></div></p>
</li>
<li>
<p><strong>Run profiler locally:</strong>
   <div class="language-bash highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>python<span class="w"> </span>scripts/profile_performance.py
</span></code></pre></div></p>
</li>
<li>
<p><strong>Compare with baseline:</strong></p>
</li>
<li>Baseline: <code>cortex-brain/cortex-2.0-design/PHASE-6.1-PERFORMANCE-BASELINE.md</code></li>
<li>
<p>Current: Output from profiler</p>
</li>
<li>
<p><strong>Fix the regression:</strong></p>
</li>
<li>Add caching</li>
<li>Optimize queries</li>
<li>Add database indexes</li>
<li>
<p>Reduce I/O operations</p>
</li>
<li>
<p><strong>Re-test locally:</strong>
   <div class="language-bash highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>pytest<span class="w"> </span>tests/performance/<span class="w"> </span>-v
</span></code></pre></div></p>
</li>
<li>
<p><strong>Push fix and verify CI passes</strong></p>
</li>
</ol>
<h3 id="common-regressions">Common Regressions<a class="headerlink" href="#common-regressions" title="Permanent link">&para;</a></h3>
<h4 id="tier-1-slowdown-50ms">Tier 1 Slowdown (&gt;50ms)<a class="headerlink" href="#tier-1-slowdown-50ms" title="Permanent link">&para;</a></h4>
<p><strong>Causes:</strong>
- Missing database indexes
- Full table scans
- Increased data volume</p>
<p><strong>Fix:</strong>
- Add indexes: <code>CREATE INDEX IF NOT EXISTS idx_...</code>
- Verify EXPLAIN QUERY PLAN
- Implement FIFO conversation pruning</p>
<h4 id="tier-2-slowdown-150ms">Tier 2 Slowdown (&gt;150ms)<a class="headerlink" href="#tier-2-slowdown-150ms" title="Permanent link">&para;</a></h4>
<p><strong>Causes:</strong>
- FTS5 not being used
- Pattern table growth
- Missing indexes</p>
<p><strong>Fix:</strong>
- Verify FTS5 MATCH queries
- Prune low-confidence patterns (&lt;0.5)
- Rebuild FTS5 index: <code>INSERT INTO patterns_fts(patterns_fts) VALUES('rebuild')</code></p>
<h4 id="tier-3-slowdown-500ms">Tier 3 Slowdown (&gt;500ms)<a class="headerlink" href="#tier-3-slowdown-500ms" title="Permanent link">&para;</a></h4>
<p><strong>Causes:</strong>
- Git operations unbounded
- File hotspot analysis overhead
- No caching</p>
<p><strong>Fix:</strong>
- Limit analysis window (90 days max)
- Add git metrics caching (TTL: 1 hour)
- Optimize subprocess calls</p>
<h4 id="operation-slowdown-5000ms">Operation Slowdown (&gt;5000ms)<a class="headerlink" href="#operation-slowdown-5000ms" title="Permanent link">&para;</a></h4>
<p><strong>Causes:</strong>
- Network I/O
- File system operations
- Subprocess overhead</p>
<p><strong>Fix:</strong>
- Add operation-level caching
- Parallelize independent tasks
- Reduce git operations</p>
<hr />
<h2 id="configuration">üîß Configuration<a class="headerlink" href="#configuration" title="Permanent link">&para;</a></h2>
<h3 id="adjusting-thresholds">Adjusting Thresholds<a class="headerlink" href="#adjusting-thresholds" title="Permanent link">&para;</a></h3>
<p><strong>File:</strong> <code>tests/performance/test_performance_regression.py</code></p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="c1"># Update thresholds if baseline changes</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="n">TIER1_THRESHOLD_MS</span> <span class="o">=</span> <span class="mf">50.0</span>  <span class="c1"># Current: 0.48ms avg</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="n">TIER2_THRESHOLD_MS</span> <span class="o">=</span> <span class="mf">150.0</span>  <span class="c1"># Current: 0.72ms avg</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="n">TIER3_THRESHOLD_MS</span> <span class="o">=</span> <span class="mf">500.0</span>  <span class="c1"># Current: 52.51ms avg</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="n">TIER3_HOTSPOT_THRESHOLD_MS</span> <span class="o">=</span> <span class="mf">300.0</span>  <span class="c1"># Hotspot: 258ms</span>
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="n">OPERATION_THRESHOLD_MS</span> <span class="o">=</span> <span class="mf">5000.0</span>  <span class="c1"># Current: 1431ms avg</span>
</span></code></pre></div>
<p><strong>When to adjust:</strong>
- ‚úÖ After optimization (lower threshold)
- ‚úÖ After architectural change (re-baseline)
- ‚ùå To make tests pass (that's regression!)</p>
<h3 id="disabling-tests-temporarily">Disabling Tests Temporarily<a class="headerlink" href="#disabling-tests-temporarily" title="Permanent link">&para;</a></h3>
<p><strong>Use sparingly!</strong> Only for known issues being actively fixed.</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="c1"># .github/workflows/performance.yml</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Run fast performance tests</span>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="w">  </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="w">    </span><span class="no">pytest tests/performance/ -v -m &quot;performance and not slow&quot;</span>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="w">  </span><span class="nt">continue-on-error</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w">  </span><span class="c1"># ‚ö†Ô∏è Allows failures (use cautiously)</span>
</span></code></pre></div>
<p><strong>Better approach:</strong> Skip specific test:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">skip</span><span class="p">(</span><span class="n">reason</span><span class="o">=</span><span class="s2">&quot;Known regression - fixing in PR #123&quot;</span><span class="p">)</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="k">def</span><span class="w"> </span><span class="nf">test_tier3_analyze_file_hotspots_performance</span><span class="p">(</span><span class="o">...</span><span class="p">):</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>    <span class="o">...</span>
</span></code></pre></div>
<hr />
<h2 id="references">üìö References<a class="headerlink" href="#references" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>Performance Baseline:</strong> <code>cortex-brain/cortex-2.0-design/PHASE-6.1-PERFORMANCE-BASELINE.md</code></li>
<li><strong>Test Suite:</strong> <code>tests/performance/test_performance_regression.py</code></li>
<li><strong>Profiler:</strong> <code>scripts/profile_performance.py</code></li>
<li><strong>CI Workflow:</strong> <code>.github/workflows/performance.yml</code></li>
<li><strong>Optimization Guide:</strong> <code>cortex-brain/cortex-2.0-design/18-performance-optimization.md</code></li>
</ul>
<hr />
<h2 id="success-criteria">‚úÖ Success Criteria<a class="headerlink" href="#success-criteria" title="Permanent link">&para;</a></h2>
<p>Phase 6.1 Task 6 complete when:
- [x] GitHub Actions workflow created (<code>.github/workflows/performance.yml</code>)
- [x] Performance tests run on push/PR
- [x] Build fails if thresholds exceeded
- [x] PR comments show test results
- [x] Daily monitoring enabled
- [x] Artifacts uploaded (performance reports)
- [x] Documentation complete (this file)</p>
<hr />
<p><strong>Status:</strong> ‚úÖ COMPLETE<br />
<strong>Last Updated:</strong> 2025-11-10<br />
<strong>CI Integration:</strong> Active on <code>main</code>, <code>CORTEX-2.0</code>, <code>develop</code> branches</p>
                    </article>
                    
                    <!-- Page Navigation -->
                    <div class="page-navigation">
                        
                        
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <div class="widewrapper footer">
            <div class="container">
                <div class="row">
                    <div class="col-md-12 text-center">
                        <p>
                            ¬© 2024-2025 Asif Hussain. All rights reserved.
                            <span class="separator">|</span>
                            <a href="https://github.com/asifhussain60/CORTEX" target="_blank">
                                <i class="fa fa-github"></i> GitHub
                            </a>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/js/bootstrap.min.js"></script>
    
    <!-- Syntax Highlighting -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
    
    <!-- MkDocs Search -->
    <script src="../../search/main.js"></script>
</body>
</html>