validation_insights:
  kds_quadrant_completeness:
    issue: "Documentation missing one or more KDS Quadrant components"
    check_for:
      - "Story section (ðŸ§š narrative, metaphors, day-in-life examples)"
      - "Technical section (specifications, commands, parameters, code)"
      - "Image prompt section (diagrams, visual representations, flowcharts)"
      - "High-level technical section (architecture, workflows, integration)"
    explanation: "All four perspectives needed for complete understanding"
    frequency: 0
    confidence: 1.0
    impact: medium
    last_seen: "2025-11-04"
  powershell_regex_escaping:
    issue: "Backtick escaping for quotes in regex patterns fails to parse"
    incorrect_pattern: "[`'\\\"\\\"](.*)[`'\\\"\\\"']"
    correct_pattern: "[\\x27\\x22](.*)[ \\x27\\x22]"
    explanation: "Use hex escape sequences (\\x27 for single quote, \\x22 for double quote) instead of backtick escaping"
    frequency: 5
    confidence: 0.95
    impact: high
    last_seen: "2025-11-04T10:00:00Z"
  powershell_path_handling:
    issue: "Hardcoded KDS prefix in paths fails when workspace IS KDS repository"
    incorrect_pattern: "$path = \"$WorkspaceRoot\\KDS\\kds-brain\""
    correct_pattern: "if ($WorkspaceRoot -match '\\\\KDS$') { $path = \"$WorkspaceRoot\\kds-brain\" } else { $path = \"$WorkspaceRoot\\KDS\\kds-brain\" }"
    explanation: "Detect if workspace path ends with KDS to avoid path doubling (D:\\PROJECTS\\KDS\\KDS\\)"
    frequency: 6
    confidence: 0.98
    impact: high
    last_seen: "2025-11-04T10:15:00Z"
  powershell_start_job:
    issue: "Start-Job with -FilePath fails with complex parameter passing"
    incorrect_pattern: "Start-Job -FilePath $script -ArgumentList $args"
    correct_pattern: "Start-Job -ScriptBlock { param($Script, $Args) & $Script @Args } -ArgumentList $script, $args"
    explanation: "Use -ScriptBlock instead of -FilePath for better parameter handling in parallel jobs"
    frequency: 1
    confidence: 0.90
    impact: medium
    last_seen: "2025-11-04T10:20:00Z"
  powershell_dependencies:
    issue: "Missing powershell-yaml module causes YAML operations to fail"
    check: "Test-Module -Name powershell-yaml"
    install: "Install-Module -Name powershell-yaml -Scope CurrentUser -Force"
    explanation: "ConvertFrom-Yaml and ConvertTo-Yaml cmdlets require powershell-yaml module"
    frequency: 1
    confidence: 1.0
    impact: high
    last_seen: "2025-11-04T10:25:00Z"
version: 6.0.0
last_updated: 2025-11-04T10:35:00Z
workflow_patterns:
  kds_quadrant_creation:
    pattern: "four_perspective_documentation"
    description: "Create comprehensive documentation using KDS Quadrant structure"
    steps:
      - "1_story: Write human-centered narrative (emotional connection, metaphors, day-in-life examples)"
      - "2_technical: Document detailed specifications (commands, parameters, file structures, code examples)"
      - "3_image_prompt: Create or describe visual representation (diagrams, flowcharts, progress indicators)"
      - "4_high_level_technical: Explain architectural overview (system design, workflows, integration points)"
    rationale: "Four perspectives ensure complete understanding for different learning styles and use cases"
    success_rate: 1.0
    time_saved_minutes: 45
    confidence: 1.0
    last_used: "2025-11-04"
    examples:
      - "BRAIN system documentation"
      - "Setup process documentation"
      - "Agent architecture documentation"
  powershell_script_debugging:
    pattern: "test_individually_before_jobs"
    description: "Debug PowerShell scripts directly before using in Start-Job"
    steps:
      - "Run script directly with test parameters"
      - "Fix any syntax errors (especially regex patterns)"
      - "Test with various input scenarios"
      - "Only then integrate with Start-Job orchestration"
    success_rate: 1.0
    time_saved_minutes: 30
    confidence: 0.95
    last_used: "2025-11-04T10:30:00Z"
  powershell_regex_best_practice:
    pattern: "use_hex_escape_for_quotes"
    description: "Use hex escape sequences for quotes in regex patterns"
    examples:
      single_quote: "\\x27 instead of `' or \\'"
      double_quote: "\\x22 instead of `\" or \\\""
      both: "[\\x27\\x22] matches both quote types"
    rationale: "Avoids PowerShell parsing ambiguity and escaping issues"
    confidence: 0.95
    last_used: "2025-11-04T10:00:00Z"
architectural_patterns:
  api_auth: none
  service_naming: I{Name} interface
  test_test_types:
  - e2e
  - unit
  test_selector_strategy: id
  ui_di_pattern: none
  api_versioning: url-path
  service_di_registration: Program.cs
  ui_component_structure: feature-based
  service_layering: service-only
  test_framework: Playwright
  ui_naming: PascalCase
  api_routing: attribute-based
intent_patterns:
  kds_quadrant_documentation:
    pattern: "update_documentation"
    description: "User wants to update KDS Quadrant (4-document structure: Story, Technical, Image Prompt, High-Level Technical)"
    triggers:
      - "update documentation"
      - "update docs"
      - "publish docs"
      - "publish documentation"
      - "update the quadrant"
      - "refresh documentation"
      - "document this"
    routes_to: "work-planner"
    action: "create_or_update_kds_quadrant"
    confidence: 0.95
    last_used: "2025-11-04"
  kds_quadrant_structure:
    name: "KDS Quadrant"
    description: "Four-perspective documentation pattern for comprehensive concept explanation"
    components:
      1_story: "Human-centered narrative (ðŸ§š story for humans)"
      2_technical: "Detailed technical specifications and implementation"
      3_image_prompt: "Visual representation or diagram prompt (implicit or explicit)"
      4_high_level_technical: "Architectural overview and system-level explanation"
    purpose: "Explain complex concepts from multiple angles: emotional, practical, visual, architectural"
    examples:
      - "The Intern with Amnesia (Story) + SOLID Architecture (Technical) + Brain Visualization (Image) + BRAIN System Overview (High-Level)"
      - "Three-Story Brain (Story) + Tier 0-5 Specs (Technical) + Tier Diagram (Image) + Automatic Learning Workflow (High-Level)"
      - "Day in the Life (Story) + Command Reference (Technical) + Workflow Examples (Image) + How It Works (High-Level)"
    confidence: 1.0
    created: "2025-11-04"
file_relationships:
  tests/fixtures/mock-project/tests/UI/dashboard.spec.ts:
  - relationship: test-coverage
    source: test-crawler
    confidence: 0.8
    related_file: Components/**/dashboard.razor
  backups/pre-independence-migration/tests/test-brain-integrity.spec.ts:
  - relationship: test-coverage
    source: test-crawler
    confidence: 0.8
    related_file: Components/**/test-brain-integrity.razor
  tests/fixtures/mock-project/tests/Unit/UserServiceTests.cs:
  - relationship: test-coverage
    source: test-crawler
    confidence: 0.8
    related_file: Components/**/UserService.razor
  backups/pre-independence-migration/tests/fixtures/mock-project/tests/Unit/UserServiceTests.cs:
  - relationship: test-coverage
    source: test-crawler
    confidence: 0.8
    related_file: Components/**/UserService.razor
  tests/test-brain-integrity.spec.ts:
  - relationship: test-coverage
    source: test-crawler
    confidence: 0.8
    related_file: Components/**/test-brain-integrity.razor
  backups/pre-independence-migration/tests/fixtures/mock-project/tests/UI/dashboard.spec.ts:
  - relationship: test-coverage
    source: test-crawler
    confidence: 0.8
    related_file: Components/**/dashboard.razor
test_patterns:
  selector_strategy: id
  element_ids:
  - confidence: 0.95
    component: backups/pre-independence-migration/tests/fixtures/mock-project/src/frontend/src/components/UserDashboard.tsx
    id: {}
    purpose: Unknown
  - confidence: 0.95
    component: tests/fixtures/mock-project/src/frontend/src/components/UserDashboard.tsx
    id: {}
    purpose: Unknown
  test_data: {}

