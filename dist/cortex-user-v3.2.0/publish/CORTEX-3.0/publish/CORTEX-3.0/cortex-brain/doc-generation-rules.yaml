# CORTEX Documentation Generation Rules
# Purpose: Configure automatic documentation generation from code and YAML
# Version: 1.0.0
# Created: 2025-11-14 (CORTEX 3.0 Phase 1.1 Week 2)

version: 1.0.0
author: Asif Hussain
copyright: Â© 2024-2025 Asif Hussain. All rights reserved.

# ============================================================================
# SOURCE CONFIGURATION
# ============================================================================

sources:
  # Python directories to scan for docstrings
  python_dirs:
    - src/
    - tests/
  
  # YAML directories to include in documentation
  yaml_dirs:
    - cortex-brain/
  
  # Exclude patterns (glob style)
  exclude_patterns:
    - '**/__pycache__/**'
    - '**/.*'
    - '**/dist/**'
    - '**/site/**'
    - '**/node_modules/**'
    - '**/venv/**'
    - '**/.venv/**'
    - '**/build/**'
    - '**/temp/**'
    - '**/archives/**'
    - '**/backups/**'

# ============================================================================
# OUTPUT CONFIGURATION
# ============================================================================

output:
  # Output directories for different doc types
  api_reference: docs/api/
  operations: docs/operations/
  architecture: docs/architecture/
  guides: docs/guides/
  
  # Marker for auto-generated content
  auto_generated_marker: '<!-- AUTO-GENERATED -->'
  
  # Whether to update existing files or create new ones
  update_existing: true
  
  # Backup existing files before overwriting
  backup_before_overwrite: true

# ============================================================================
# DOCSTRING FORMAT
# ============================================================================

# Supported formats: google, numpy, sphinx
docstring_format: google

# Parse settings
parse_settings:
  # Include private methods/functions (starting with _)
  include_private: false
  
  # Include special methods (starting with __)
  include_special: false
  
  # Extract type hints
  extract_types: true
  
  # Extract default values
  extract_defaults: true

# ============================================================================
# LINK VALIDATION
# ============================================================================

link_validation:
  # Enable link validation
  enabled: true
  
  # Check external links (slower, requires network)
  check_external: false
  
  # Check anchor links (#section)
  check_anchors: true
  
  # Report broken links as errors (vs warnings)
  broken_links_are_errors: false

# ============================================================================
# MKDOCS INTEGRATION
# ============================================================================

mkdocs:
  # Automatically update mkdocs.yml navigation
  auto_update_nav: true
  
  # Preserve custom sections in nav
  preserve_custom_sections: true
  
  # Navigation structure for auto-generated docs
  nav_structure:
    API Reference:
      - Overview: api/reference.md
      - Operations: api/operations.md
      - Agents: api/agents.md
      - Plugins: api/plugins.md
    
    Operations Guide:
      - Overview: operations/index.md
      # Operation-specific docs auto-added here
    
    Architecture:
      - Overview: architecture/index.md
      - Brain Tiers: architecture/brain-tiers.md
      - Agent System: architecture/agents.md
      - Plugin System: architecture/plugins.md

# ============================================================================
# OPERATION-SPECIFIC DOCUMENTATION
# ============================================================================

operations:
  # Template for operation documentation
  template:
    sections:
      - name: Overview
        include_module_docstring: true
      
      - name: Usage
        include_code_example: true
      
      - name: Configuration
        include_yaml_config: true
      
      - name: Methods
        include_public_methods: true
      
      - name: Examples
        include_test_examples: true
  
  # Operations to document (auto-discovered if empty)
  operations_list:
    - environment_setup
    - workspace_cleanup
    - update_documentation
    - brain_protection_check
    - run_tests
    - comprehensive_self_review
    - refresh_cortex_story

# ============================================================================
# API REFERENCE GENERATION
# ============================================================================

api_reference:
  # Group by module/package
  group_by: module
  
  # Sort order (alphabetical, by_type, custom)
  sort_order: alphabetical
  
  # Include inheritance information
  include_inheritance: true
  
  # Include source code links
  include_source_links: true
  
  # Generate separate pages for each module
  separate_pages: false

# ============================================================================
# FORMATTING RULES
# ============================================================================

formatting:
  # Line length for generated markdown
  max_line_length: 100
  
  # Code block language
  code_block_language: python
  
  # Include table of contents
  include_toc: true
  
  # Heading level for main sections
  main_heading_level: 2
  
  # Include timestamps
  include_timestamps: true
  
  # Include copyright notice
  include_copyright: true

# ============================================================================
# VALIDATION RULES
# ============================================================================

validation:
  # Require docstrings for all public classes
  require_class_docstrings: true
  
  # Require docstrings for all public functions
  require_function_docstrings: true
  
  # Minimum docstring length (characters)
  min_docstring_length: 20
  
  # Report missing docstrings as warnings
  missing_docstrings_are_warnings: true

# ============================================================================
# ADVANCED FEATURES
# ============================================================================

advanced:
  # Generate diagrams from code structure
  generate_diagrams: false
  
  # Include code complexity metrics
  include_metrics: false
  
  # Cross-reference between modules
  enable_cross_references: true
  
  # Generate search index
  generate_search_index: true
