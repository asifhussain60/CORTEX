agent_system:
  name: "CORTEX Agent System"
  version: "2.0"
  architecture: "Dual-hemisphere specialist agents with corpus callosum coordination"
  
  overview:
    total_agents: 10
    hemispheres:
      right_brain: "Strategic Planning (5 agents)"
      left_brain: "Tactical Execution (5 agents)"
      coordination: "Corpus Callosum message system"
      
  agent_architecture:
    right_hemisphere_strategic:
      purpose: "Strategy, planning, analysis, protection"
      agents:
        1: "Intent Router"
        2: "Work Planner" 
        3: "Screenshot Analyzer"
        4: "Change Governor"
        5: "Brain Protector"
        
    left_hemisphere_tactical:
      purpose: "Implementation, testing, validation, commits"
      agents:
        6: "Code Executor"
        7: "Test Generator"
        8: "Error Corrector"
        9: "Health Validator"
        10: "Commit Handler"

  intent_routing_system:
    Intent_Router:
      agent_id: 1
      hemisphere: "right"
      location: "src/agents/intent_router.py"
      purpose: "Parse natural language and route to appropriate specialist"
      
      intent_types:
        PLAN:
          agent: "work-planner"
          triggers: ["create plan", "design", "architecture", "how should I"]
          confidence_threshold: 0.7
          example: "Create a plan to add authentication"
          
        EXECUTE:
          agent: "code-executor"
          triggers: ["add", "create", "implement", "build", "modify"]
          confidence_threshold: 0.7
          example: "Add a purple button to the panel"
          
        TEST:
          agent: "test-generator"
          triggers: ["test", "verify", "validate", "check behavior"]
          confidence_threshold: 0.7
          example: "Test the login functionality"
          
        FIX:
          agent: "error-corrector"
          triggers: ["fix", "bug", "error", "broken", "not working"]
          confidence_threshold: 0.7
          example: "Fix the null reference error"
          
        VALIDATE:
          agent: "health-validator"
          triggers: ["check health", "validate system", "run all tests"]
          confidence_threshold: 0.7
          example: "Validate the system is working"
          
        ANALYZE:
          agent: "screenshot-analyzer"
          triggers: ["analyze image", "what's in this", "screenshot"]
          confidence_threshold: 0.7
          example: "Analyze this UI screenshot"
          
        PROTECT:
          agent: "brain-protector"
          triggers: ["modify tier0", "change rules", "delete"]
          confidence_threshold: 0.9
          example: "Delete all brain data (challenged!)"
          
        CONTINUE:
          agent: "resume_previous"
          triggers: ["continue", "next", "keep going", "proceed"]
          confidence_threshold: 0.8
          example: "Continue with the next phase"
          
        STATUS:
          agent: "system_check"
          triggers: ["status", "health", "how is", "show me"]
          confidence_threshold: 0.7
          example: "Show me the system status"
          
      routing_logic:
        confidence_calculation: "keyword matching + context + learned patterns"
        fallback_handling: "ask user for clarification if confidence < threshold"
        ambiguity_resolution: "present options to user"

  strategic_agents:
    Work_Planner:
      agent_id: 2
      hemisphere: "right"
      location: "src/agents/work_planner.py"
      purpose: "Create multi-phase strategic implementation plans"
      
      responsibilities:
        - "Analyze requirements and break into phases"
        - "Create specific, actionable tasks per phase"
        - "Estimate effort and assess risks"
        - "Define success criteria (Definition of Done)"
        
      planning_process:
        phase_1: "Requirements Analysis"
        phase_2: "Test Creation (RED)"
        phase_3: "Implementation (GREEN)"
        phase_4: "Refactoring & Validation"
        
      output_format: "YAML workflow with phases, tasks, dependencies, risks"
      
    Screenshot_Analyzer:
      agent_id: 3
      hemisphere: "right"
      location: "src/agents/screenshot_analyzer.py"
      purpose: "Extract technical requirements from UI screenshots/mockups"
      
      capabilities:
        - "Component identification (buttons, inputs, forms)"
        - "Layout analysis and spatial relationships"
        - "Style extraction (colors, fonts, spacing)"
        - "Behavior inference (expected interactions)"
        - "Technical specification generation"
        
      analysis_output:
        identified_components: "UI elements with suggested IDs"
        layout_structure: "spatial arrangement and dimensions"
        technical_requirements: "implementation tasks"
        suggested_tests: "test scenarios for components"
        
    Change_Governor:
      agent_id: 4
      hemisphere: "right"
      location: "src/agents/change_governor.py"
      purpose: "Protect CORTEX architectural integrity from degradation"
      
      protection_areas:
        application_separation: "Keep app code out of CORTEX core"
        scope_enforcement: "Prevent mixing of concerns"
        architectural_compliance: "Enforce layered architecture"
        namespace_isolation: "Prevent cross-contamination"
        creeping_bloat_prevention: "Challenge unnecessary complexity"
        
      governance_actions:
        challenge: "Question risky architectural decisions"
        suggest_alternatives: "Recommend safer implementation approaches"
        enforce_boundaries: "Block violations of separation principles"
        
    Brain_Protector:
      agent_id: 5
      hemisphere: "right"
      location: "src/agents/brain_protector.py"
      purpose: "Enforce Rule #22 - Challenge risky changes to CORTEX brain"
      
      protection_layers:
        1: "Instinct Immutability (Tier 0 rules cannot be bypassed)"
        2: "Critical Path Protection (core files protected)"
        3: "Application Separation (no app code in CORTEX core)"
        4: "Brain State Protection (memory files not committed)"
        5: "Namespace Isolation (scope boundaries enforced)"
        6: "Architectural Integrity (design principles maintained)"
        
      challenge_workflow:
        detect: "Identify risky operations through rule matching"
        analyze: "Assess severity and potential impact"
        challenge: "Block or warn based on severity level"
        alternatives: "Suggest safer approaches"

  tactical_agents:
    Code_Executor:
      agent_id: 6
      hemisphere: "left"
      location: "src/agents/code_executor.py"
      purpose: "Implement features with surgical precision using TDD"
      
      tdd_workflow:
        red_phase: "Write failing test first"
        green_phase: "Implement minimal code to pass test"
        refactor_phase: "Clean up code while keeping tests passing"
        
      execution_principles:
        - "Always RED → GREEN → REFACTOR cycle"
        - "Precise file edits, no guessing at locations"
        - "Incremental creation (<100 lines at a time)"
        - "Validate syntax correctness before proceeding"
        
      file_validation:
        - "Confirm file exists before modification"
        - "Check file is in correct application layer"
        - "Validate write permissions"
        - "Prevent 'wrong file' mistakes using Tier 2"
        
    Test_Generator:
      agent_id: 7
      hemisphere: "left"
      location: "src/agents/test_generator.py"
      purpose: "Create comprehensive test suites (always RED phase first)"
      
      test_strategy:
        happy_path: "Verify expected behavior"
        edge_cases: "Boundary conditions and limits"
        error_handling: "Invalid inputs and exceptions"
        integration: "Component interactions"
        regression: "Prevent known bugs from returning"
        
      framework_support:
        auto_detect: "Identify test framework from project"
        supported: ["nunit", "xunit", "pytest", "jest", "mocha"]
        coverage_target: "80% minimum coverage"
        
    Error_Corrector:
      agent_id: 8
      hemisphere: "left"
      location: "src/agents/error_corrector.py"
      purpose: "Fix bugs, syntax errors, and 'wrong file' mistakes"
      
      error_types:
        syntax_errors: "Missing semicolons, brackets, typos"
        wrong_file_errors: "File confusion (learned from Tier 2)"
        logic_errors: "Unexpected behavior, test failures"
        build_errors: "Compilation issues, missing dependencies"
        runtime_errors: "Null references, exceptions"
        
      correction_learning:
        tier2_integration: "Learn from past corrections"
        pattern_recognition: "Identify common mistake patterns"
        proactive_prevention: "Warn before similar mistakes"
        
    Health_Validator:
      agent_id: 9
      hemisphere: "left"
      location: "src/agents/health_validator.py"
      purpose: "Enforce Definition of Done - zero errors, zero warnings"
      
      validation_checks:
        all_tests_pass: "No red tests allowed"
        zero_errors: "Compilation/syntax errors = FAIL"
        zero_warnings: "Even warnings must be fixed"
        build_succeeds: "Project builds cleanly"
        no_regressions: "Existing features still work"
        
      definition_of_done:
        quality_gates: "All gates must pass for completion"
        strict_mode: "configurable zero-warnings enforcement"
        reporting: "Detailed validation report with remediation steps"
        
    Commit_Handler:
      agent_id: 10
      hemisphere: "left"
      location: "src/agents/commit_handler.py"
      purpose: "Create semantic commits with meaningful messages"
      
      semantic_format:
        structure: "<type>(<scope>): <subject>"
        types: ["feat", "fix", "refactor", "test", "docs", "style", "chore"]
        scope: "component or area affected"
        subject: "imperative description"
        
      commit_strategy:
        atomic_commits: "single logical change per commit"
        meaningful_messages: "clear description of what and why"
        sign_off: "optional Signed-off-by footer"

  corpus_callosum_coordination:
    message_queue_system:
      location: "cortex-brain/corpus-callosum/coordination-queue.jsonl"
      purpose: "Coordinate communication between hemispheres"
      
      message_types:
        task_assignment: "Right brain → Left brain task delegation"
        task_completion: "Left brain → Right brain result reporting"
        context_sharing: "Bidirectional context exchange"
        knowledge_update: "Pattern learning notifications"
        
      coordination_flow:
        1: "Right brain creates strategic plan"
        2: "Corpus callosum posts task messages"
        3: "Left brain receives and executes tasks"
        4: "Left brain reports completion"
        5: "Right brain updates knowledge graph"

  agent_coordination_examples:
    simple_feature_request:
      user_input: "Add a logout button"
      workflow:
        1: "Intent Router detects EXECUTE → routes to Code Executor"
        2: "Code Executor requests Work Planner assistance"
        3: "Work Planner creates 2-phase plan via Corpus Callosum"
        4: "Test Generator creates button click test (RED)"
        5: "Code Executor implements logout button (GREEN)"
        6: "Code Executor refactors code (REFACTOR)"
        7: "Health Validator validates DoD"
        8: "Commit Handler creates semantic commit"
        9: "Tier 2 learns 'add button' → EXECUTE pattern"
        
    complex_feature_with_protection:
      user_input: "Delete all CORTEX brain data"
      workflow:
        1: "Intent Router detects PROTECT → routes to Brain Protector"
        2: "Brain Protector analyzes proposed deletion"
        3: "Protection layer 4 (Brain State Protection) triggers"
        4: "Brain Protector blocks action with severity 'blocked'"
        5: "Brain Protector suggests safer alternatives"
        6: "User clarifies: 'clean up old conversations'"
        7: "Intent Router re-detects VALIDATE → routes to Health Validator"
        8: "Health Validator recommends FIFO cleanup method"
        9: "Safe cleanup executed without data loss"

  performance_metrics:
    intent_routing_accuracy: "95%+ correct agent selection"
    average_routing_time: "<100ms"
    inter_agent_coordination: "<200ms message queue processing"
    workflow_completion_rate: "94% successful task completion"
    
  configuration:
    agent_enablement:
      all_agents: true
      individual_control: "can disable specific agents"
      fallback_behavior: "graceful degradation when agents disabled"
      
    confidence_thresholds:
      adjustable: "per-intent confidence levels"
      learning: "thresholds improve with usage"
      fallback: "user clarification when confidence low"
      
    coordination_settings:
      message_queue_size: 1000
      message_retention_hours: 24
      coordination_timeout_seconds: 30

  development_integration:
    vscode_integration: "seamless operation within VS Code"
    copilot_enhancement: "enhances GitHub Copilot with memory and context"
    language_support: "works with any language supported by Copilot"
    testing_integration: "automatically generates and runs tests"