{
  "scenarios": {
    "problem": {
      "overallScore": 47,
      "endpoints": [
        { "name": "POST /api/payment", "avgLatency": 2847, "p95Latency": 5234, "p99Latency": 8912, "errorRate": 3.2 },
        { "name": "GET /api/transactions", "avgLatency": 1523, "p95Latency": 3456, "p99Latency": 6789, "errorRate": 1.8 },
        { "name": "POST /api/auth/login", "avgLatency": 892, "p95Latency": 1678, "p99Latency": 3245, "errorRate": 2.1 },
        { "name": "GET /api/reports", "avgLatency": 4523, "p95Latency": 8912, "p99Latency": 14567, "errorRate": 4.5 },
        { "name": "PUT /api/user", "avgLatency": 734, "p95Latency": 1234, "p99Latency": 2456, "errorRate": 0.9 }
      ],
      "bottlenecks": [
        { "location": "PaymentProcessor.ProcessTransaction()", "type": "cpu", "impact": "high", "description": "Synchronous processing blocking request thread" },
        { "location": "ReportEngine.GenerateReport()", "type": "io", "impact": "critical", "description": "Unoptimized database queries with N+1 problem" },
        { "location": "AuthService.ValidateToken()", "type": "network", "impact": "medium", "description": "External API call on every request without caching" },
        { "location": "DatabaseContext.SaveChanges()", "type": "database", "impact": "high", "description": "Missing indexes on frequently queried columns" }
      ],
      "flamegraphData": [
        { "name": "ProcessPaymentRequest", "value": 2847, "children": [
          { "name": "ValidatePayment", "value": 423 },
          { "name": "ProcessTransaction", "value": 1892, "children": [
            { "name": "CallGatewayAPI", "value": 1234 },
            { "name": "UpdateDatabase", "value": 658 }
          ]},
          { "name": "SendNotification", "value": 532 }
        ]}
      ]
    },
    "average": {
      "overallScore": 75,
      "endpoints": [
        { "name": "POST /api/payment", "avgLatency": 487, "p95Latency": 892, "p99Latency": 1456, "errorRate": 0.8 },
        { "name": "GET /api/transactions", "avgLatency": 234, "p95Latency": 456, "p99Latency": 789, "errorRate": 0.3 },
        { "name": "POST /api/auth/login", "avgLatency": 156, "p95Latency": 289, "p99Latency": 512, "errorRate": 0.5 },
        { "name": "GET /api/reports", "avgLatency": 1234, "p95Latency": 2456, "p99Latency": 4123, "errorRate": 1.2 },
        { "name": "PUT /api/user", "avgLatency": 178, "p95Latency": 334, "p99Latency": 589, "errorRate": 0.2 }
      ],
      "bottlenecks": [
        { "location": "ReportEngine.GenerateReport()", "type": "io", "impact": "medium", "description": "Complex queries could benefit from caching" },
        { "location": "PaymentProcessor.ProcessTransaction()", "type": "network", "impact": "low", "description": "Gateway API occasionally slow" }
      ],
      "flamegraphData": [
        { "name": "ProcessPaymentRequest", "value": 487, "children": [
          { "name": "ValidatePayment", "value": 89 },
          { "name": "ProcessTransaction", "value": 312, "children": [
            { "name": "CallGatewayAPI", "value": 234 },
            { "name": "UpdateDatabase", "value": 78 }
          ]},
          { "name": "SendNotification", "value": 86 }
        ]}
      ]
    },
    "excellent": {
      "overallScore": 93,
      "endpoints": [
        { "name": "POST /api/payment", "avgLatency": 127, "p95Latency": 234, "p99Latency": 389, "errorRate": 0.1 },
        { "name": "GET /api/transactions", "avgLatency": 67, "p95Latency": 123, "p99Latency": 198, "errorRate": 0.05 },
        { "name": "POST /api/auth/login", "avgLatency": 45, "p95Latency": 89, "p99Latency": 145, "errorRate": 0.08 },
        { "name": "GET /api/reports", "avgLatency": 234, "p95Latency": 456, "p99Latency": 723, "errorRate": 0.2 },
        { "name": "PUT /api/user", "avgLatency": 52, "p95Latency": 98, "p99Latency": 156, "errorRate": 0.03 }
      ],
      "bottlenecks": [
        { "location": "ReportEngine.GenerateReport()", "type": "optimization", "impact": "low", "description": "Minor opportunity for query optimization" }
      ],
      "flamegraphData": [
        { "name": "ProcessPaymentRequest", "value": 127, "children": [
          { "name": "ValidatePayment", "value": 23 },
          { "name": "ProcessTransaction", "value": 82, "children": [
            { "name": "CallGatewayAPI", "value": 67 },
            { "name": "UpdateDatabase", "value": 15 }
          ]},
          { "name": "SendNotification", "value": 22 }
        ]}
      ]
    }
  },
  "performanceTargets": {
    "avgLatency": { "excellent": 200, "good": 500, "acceptable": 1000, "poor": 2000 },
    "p95Latency": { "excellent": 400, "good": 1000, "acceptable": 2000, "poor": 4000 },
    "errorRate": { "excellent": 0.1, "good": 0.5, "acceptable": 1.0, "poor": 2.0 }
  },
  "optimizationRecommendations": {
    "problem": [
      { "title": "Implement Async Processing", "impact": "-60% latency", "effort": "2-3 weeks" },
      { "title": "Add Database Indexes", "impact": "-45% query time", "effort": "1 week" },
      { "title": "Implement Response Caching", "impact": "-70% repeated queries", "effort": "1-2 weeks" },
      { "title": "Use Connection Pooling", "impact": "-30% database connection time", "effort": "3-5 days" }
    ],
    "average": [
      { "title": "Add Query Caching", "impact": "-40% report generation time", "effort": "1 week" },
      { "title": "Optimize Hot Paths", "impact": "-15% overall latency", "effort": "1 week" }
    ],
    "excellent": [
      { "title": "Fine-tune Query Plans", "impact": "-8% query time", "effort": "2-3 days" }
    ]
  }
}
