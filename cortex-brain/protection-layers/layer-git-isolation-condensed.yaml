# CORTEX Protection Layer: Git Isolation

# Condensed for token optimization - full docs in protection-layers-docs/

  rules:
    - rule_id: "GIT_ISOLATION_ENFORCEMENT"
      name: "CORTEX Code Isolation from User Repos"
      severity: "blocked"
      description: "CRITICAL: CORTEX source code, brain files, or internal components being committed to user application repository"

      detection:
          - "**/src/tier0/**"
          - "**/src/tier1/**"
          - "**/src/tier2/**"
          - "**/src/tier3/**"
          - "**/src/cortex_agents/**"
          - "**/src/plugins/**"
          - "**/src/crawlers/**"
          - "**/cortex-brain/**"
          - "**/prompts/**"
          - "**/scripts/cortex/**"
          - "**/CORTEX/**"

        - "Keep CORTEX as separate repository/package"
        - "Install CORTEX via pip/npm (when distributed)"
        - "Ensure .gitignore excludes CORTEX directories"

    - rule_id: "GIT_HOOKS_INSTALLATION"
      name: "Git Hooks Must Be Installed During Setup"
      severity: "blocked"
      description: "Setup process must install git hooks to prevent accidental CORTEX code commits"

      detection:
        keywords:
          - "skip git hooks"
          - "disable hooks"
          - "bypass hook installation"

        - "Manually run setup script with hooks enabled"
