ğŸ§  **CORTEX Conversation Resume**

{% if action == 'resumed' -%}
âœ… **Resumed:** {{ title }}

ğŸ“‹ **Summary:**
{{ summary }}

ğŸ•’ **Activity:**
- **Started:** {{ started | format_datetime }}
- **Status:** {% if status == 'active' %}ğŸŸ¢ Active{% elif status == 'completed' %}âœ… Completed{% else %}{{ status | title }}{% endif %}
- **Messages:** {{ message_count }}
{% if outcome %}
- **Outcome:** {{ outcome }}
{% endif %}

{% if recent_messages -%}
ğŸ“ **Recent Discussion (Last {{ recent_messages | length }} Messages):**

{% for message in recent_messages -%}
**{{ message.role | title }}** ({{ message.timestamp | format_datetime('%H:%M') }}):
{{ message.content | truncate_content(150) }}

{% endfor -%}
{% endif %}

{% if entities -%}
ğŸ”— **Entities Discussed:**
{% for entity_type, values in entities.items() -%}
- **{{ entity_type | title }}:** {{ values[:5] | join(', ') }}{% if values | length > 5 %} (and {{ values | length - 5 }} more){% endif %}
{% endfor %}
{% endif %}

{% if files -%}
ğŸ“‚ **Files Modified (Last 5):**
{% for file in files[:5] -%}
- **{{ file.operation | upper }}:** `{{ file.file_path }}`
{% endfor -%}
{% if files | length > 5 %}
*(and {{ files | length - 5 }} more files)*
{% endif %}
{% endif %}

ğŸ¯ **Suggested Next Steps:**
{% for step in next_steps -%}
{{ loop.index }}. {{ step }}
{% endfor %}

{% if planning_doc -%}
ğŸ“„ **Planning Document:** [View Planning Doc]({{ planning_doc }})

*Planning document opened in VS Code*
{% endif %}

---

**Ready to continue. What would you like to work on?**

{% elif action == 'select_conversation' -%}
ğŸ” **Found {{ match_count }} Conversations Matching:** "{{ query }}"

{% for option in options -%}
**{{ loop.index }}. {{ option.title }}**
- **ID:** `{{ option.conversation_id }}`
- **Started:** {{ option.started | format_datetime }}
- **Status:** {% if option.status == 'active' %}ğŸŸ¢ Active{% elif option.status == 'completed' %}âœ… Completed{% else %}{{ option.status | title }}{% endif %}
- **Messages:** {{ option.message_count }}
{% if option.entities -%}
- **Entities:** {{ option.entities | dict_first_values(3) }}
{% endif %}

{% endfor %}

---

**Which conversation would you like to resume?**

Reply with the conversation number (1-{{ options | length }}) or conversation ID.

{% elif action == 'error' -%}
âŒ **Error:** {{ error }}

{% if suggestion -%}
ğŸ’¡ **Suggestion:** {{ suggestion }}
{% endif %}

---

**Available Commands:**
- `list conversations` - Show all recent conversations
- `list active conversations` - Show only active conversations
- `resume conversation <id>` - Resume by specific ID

{% endif -%}

---

*CORTEX Conversation Resume Operation*
*Tier 1 Working Memory Query*
