# Sample Feature Configuration for TDD Cycle Testing
# Purpose: Defines a simple feature for validating TDD automation

feature_name: "Sample Button Component"
description: "Create a simple button component with click handler"

# Files to be created/modified during TDD cycle
files:
  implementation:
    - path: "tests/fixtures/tdd-cycle/SampleButton.cs"
      type: "class"
      content_template: |
        namespace KDS.Tests.Fixtures
        {
            public class SampleButton
            {
                public string Label { get; set; }
                public bool IsClicked { get; private set; }
                
                public SampleButton(string label)
                {
                    Label = label;
                    IsClicked = false;
                }
                
                public void Click()
                {
                    IsClicked = true;
                }
            }
        }
  
  tests:
    - path: "tests/fixtures/tdd-cycle/SampleButtonTests.cs"
      type: "unit-test"
      content_template: |
        using Xunit;
        
        namespace KDS.Tests.Fixtures
        {
            public class SampleButtonTests
            {
                [Fact]
                public void Button_ShouldInitializeWithLabel()
                {
                    // Arrange & Act
                    var button = new SampleButton("Click Me");
                    
                    // Assert
                    Assert.Equal("Click Me", button.Label);
                }
                
                [Fact]
                public void Button_ShouldNotBeClickedInitially()
                {
                    // Arrange & Act
                    var button = new SampleButton("Test");
                    
                    // Assert
                    Assert.False(button.IsClicked);
                }
                
                [Fact]
                public void Button_ShouldBeClickedAfterClick()
                {
                    // Arrange
                    var button = new SampleButton("Test");
                    
                    // Act
                    button.Click();
                    
                    // Assert
                    Assert.True(button.IsClicked);
                }
            }
        }

# TDD Cycle Phases
tdd_phases:
  RED:
    description: "Create tests that fail"
    actions:
      - "Create test file with 3 tests"
      - "Verify tests fail (no implementation exists)"
    expected_result: "All tests fail"
  
  GREEN:
    description: "Implement minimal code to make tests pass"
    actions:
      - "Create SampleButton class"
      - "Implement minimal functionality"
      - "Re-run tests"
    expected_result: "All tests pass"
  
  REFACTOR:
    description: "Improve code while keeping tests green"
    actions:
      - "Add XML documentation"
      - "Improve naming if needed"
      - "Re-run tests to ensure they still pass"
    expected_result: "All tests still pass, code improved"

# Acceptance Criteria
acceptance_criteria:
  - "Tests created before implementation (RED phase)"
  - "Tests fail initially"
  - "Implementation makes tests pass (GREEN phase)"
  - "Refactoring maintains test coverage (REFACTOR phase)"
  - "All phases logged to execution-state.jsonl"
  - "Coordination messages sent to RIGHT hemisphere"

# Validation
validation:
  test_framework: "xUnit"
  min_tests: 3
  min_test_coverage: 100
  refactoring_required: true
