<!DOCTYPE html>
<html class="no-js">
<head>
    <meta charset="utf-8">
    <title>Response Template System - User Guide - CORTEX</title>
    <meta name="description" content="Cognitive Operation & Reasoning Through EXtension for Copilot">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Bootstrap styles -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/css/bootstrap.min.css">
    
    <!-- Font-Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
    <!-- Google Webfonts -->
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,600|PT+Serif:400,400italic' rel='stylesheet' type='text/css'>
    
    <!-- Custom Styles -->
    <link rel="stylesheet" href="../assets/css/cortex-tales.css">
    
    <!-- Syntax Highlighting - Dark Theme -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/vs2015.min.css">
    
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
    <header>
        <!-- Wide Header with Centered Logo -->
        <div class="widewrapper masthead">
            <div class="container">
                <div class="logo-container">
                    <a href=".." id="logo">
                        <img src="../assets/images/CORTEX-logo.png" alt="CORTEX" style="width: 300px; height: 300px;">
                    </a>
                </div>
            </div>
        </div>

        <!-- Horizontal Navigation Bar -->
        <div class="widewrapper subheader">
            <div class="container">
                <nav class="horizontal-nav">
                    <ul class="nav-menu">
                        <li><a href="..">Home</a></li>
                        <li><a href="../diagrams/story/The-CORTEX-Story/">The CORTEX Birth</a></li>
                        <li><a href="../governance/THE-RULEBOOK/">Cortex Bible</a></li>
                        <li><a href="../architecture/overview/">Architecture</a></li>
                        <li><a href="../reference/api/">Technical Docs</a></li>
                        <li><a href="../guides/developer-guide/">User Guides</a></li>
                        <li><a href="../getting-started/quick-start/">Examples</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <div class="widewrapper main">
        <div class="container">
            <div class="row">
                <!-- Left Sidebar Navigation (Table of Contents) -->
                <div class="col-md-3 sidebar-left">
                    <!-- Navigation Tree -->
                    
                    <div class="nav-tree">
                        <h4>Navigation</h4>
                        <ul>
                        
                            
                            <li><a href=".." >Home</a></li>
                            
                        
                            
                            <li class="nav-group">
                                <strong>The CORTEX Birth</strong>
                                <ul>
                                
                                    <li><a href="../diagrams/story/The-CORTEX-Story/" >The Awakening Story</a></li>
                                
                                    <li><a href="../diagrams/narratives/" >Narratives</a></li>
                                
                                </ul>
                            </li>
                            
                        
                            
                            <li><a href="../governance/THE-RULEBOOK/" >Cortex Bible</a></li>
                            
                        
                            
                            <li class="nav-group">
                                <strong>Architecture</strong>
                                <ul>
                                
                                    <li><a href="../architecture/overview/" >Overview</a></li>
                                
                                    <li><a href="../architecture/tier-system/" >Tier System</a></li>
                                
                                    <li><a href="../architecture/agents/" >Agents</a></li>
                                
                                    <li><a href="../architecture/brain-protection/" >Brain Protection</a></li>
                                
                                    <li><a href=".." >Diagrams</a></li>
                                
                                </ul>
                            </li>
                            
                        
                            
                            <li class="nav-group">
                                <strong>Technical Docs</strong>
                                <ul>
                                
                                    <li><a href="../reference/api/" >API Reference</a></li>
                                
                                    <li><a href="../reference/configuration/" >Configuration</a></li>
                                
                                    <li><a href="../reference/response-templates/" >Response Templates</a></li>
                                
                                    <li><a href=".." >Operations</a></li>
                                
                                </ul>
                            </li>
                            
                        
                            
                            <li class="nav-group">
                                <strong>User Guides</strong>
                                <ul>
                                
                                    <li><a href="../getting-started/quick-start/" >Quick Start</a></li>
                                
                                    <li><a href="../getting-started/installation/" >Installation</a></li>
                                
                                    <li><a href="../getting-started/configuration/" >Configuration</a></li>
                                
                                    <li><a href="../guides/developer-guide/" >Developer Guide</a></li>
                                
                                    <li><a href="../guides/admin-guide/" >Admin Guide</a></li>
                                
                                    <li><a href="../guides/best-practices/" >Best Practices</a></li>
                                
                                    <li><a href="../guides/troubleshooting/" >Troubleshooting</a></li>
                                
                                </ul>
                            </li>
                            
                        
                            
                            <li class="nav-group">
                                <strong>Examples</strong>
                                <ul>
                                
                                    <li><a href="../getting-started/quick-start/" >Quick Start</a></li>
                                
                                    <li><a href="../guides/best-practices/" >Best Practices</a></li>
                                
                                    <li><a href="../diagrams/prompts/" >DALL-E Prompts</a></li>
                                
                                </ul>
                            </li>
                            
                        
                        </ul>
                    </div>
                    
                    
                    <!-- On This Page TOC - Only for pages with reasonable length TOC -->
                    
                    <div class="toc-wrapper">
                        <h4>On This Page</h4>
                        Response Template System - User Guide - #response-template-system-user-guide
    üéØ Overview - #overview
    üìö Quick Start - #quick-start
    üé® Template Anatomy - #template-anatomy
    üîß Placeholder Syntax - #placeholder-syntax
    üìÇ Template Categories - #template-categories
    üîå Plugin Template Registration - #plugin-template-registration
    üìä Best Practices - #best-practices
    üöÄ Migration Guide - #migration-guide
    üéØ Examples - #examples
    üìñ Reference - #reference
    üÜò Troubleshooting - #troubleshooting

                    </div>
                    
                </div>

                <!-- Main Content Area (No Right Sidebar) -->
                <div class="col-md-9 content-main">
                    <article>
                        <h1 id="response-template-system-user-guide">Response Template System - User Guide<a class="headerlink" href="#response-template-system-user-guide" title="Permanent link">&para;</a></h1>
<p><strong>Version:</strong> 2.0<br />
<strong>Author:</strong> Asif Hussain<br />
<strong>Date:</strong> 2025-11-10</p>
<hr />
<h2 id="overview">üéØ Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h2>
<p>The Response Template System provides a unified, zero-execution approach to formatting CORTEX responses. Instead of writing custom formatting code, you define templates in YAML that are instantly rendered with context.</p>
<h3 id="key-benefits">Key Benefits<a class="headerlink" href="#key-benefits" title="Permanent link">&para;</a></h3>
<p>‚úÖ <strong>Zero execution overhead</strong> - Pre-formatted responses load instantly<br />
‚úÖ <strong>Consistent formatting</strong> - All components use same templates<br />
‚úÖ <strong>Easy maintenance</strong> - Edit YAML, not code<br />
‚úÖ <strong>Verbosity control</strong> - Concise/detailed/expert modes built-in<br />
‚úÖ <strong>Extensible</strong> - Plugins can register custom templates</p>
<hr />
<h2 id="quick-start">üìö Quick Start<a class="headerlink" href="#quick-start" title="Permanent link">&para;</a></h2>
<h3 id="using-templates-in-code">Using Templates in Code<a class="headerlink" href="#using-templates-in-code" title="Permanent link">&para;</a></h3>
<div class="language-python highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">src.entry_point.response_formatter</span><span class="w"> </span><span class="kn">import</span> <span class="n">ResponseFormatter</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="c1"># Initialize formatter with template system</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="n">formatter</span> <span class="o">=</span> <span class="n">ResponseFormatter</span><span class="p">(</span><span class="n">default_verbosity</span><span class="o">=</span><span class="s1">&#39;concise&#39;</span><span class="p">)</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="c1"># Use a template with context</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="n">result</span> <span class="o">=</span> <span class="n">formatter</span><span class="o">.</span><span class="n">format_from_template</span><span class="p">(</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>    <span class="s1">&#39;executor_success&#39;</span><span class="p">,</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>    <span class="n">context</span><span class="o">=</span><span class="p">{</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>        <span class="s1">&#39;files_count&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>        <span class="s1">&#39;files&#39;</span><span class="p">:</span> <span class="p">[</span>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>            <span class="p">{</span><span class="s1">&#39;path&#39;</span><span class="p">:</span> <span class="s1">&#39;src/auth.py&#39;</span><span class="p">},</span>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>            <span class="p">{</span><span class="s1">&#39;path&#39;</span><span class="p">:</span> <span class="s1">&#39;src/models.py&#39;</span><span class="p">},</span>
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>            <span class="p">{</span><span class="s1">&#39;path&#39;</span><span class="p">:</span> <span class="s1">&#39;tests/test_auth.py&#39;</span><span class="p">}</span>
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>        <span class="p">],</span>
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>        <span class="s1">&#39;next_action&#39;</span><span class="p">:</span> <span class="s1">&#39;Run tests&#39;</span>
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>    <span class="p">}</span>
</span><span id="__span-0-18"><a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a><span class="p">)</span>
</span><span id="__span-0-19"><a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a>
</span><span id="__span-0-20"><a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a><span class="c1"># Find template by trigger phrase</span>
</span><span id="__span-0-21"><a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a><span class="n">result</span> <span class="o">=</span> <span class="n">formatter</span><span class="o">.</span><span class="n">format_from_trigger</span><span class="p">(</span><span class="s1">&#39;help&#39;</span><span class="p">)</span>
</span></code></pre></div>
<h3 id="using-templates-from-copilot-chat">Using Templates from Copilot Chat<a class="headerlink" href="#using-templates-from-copilot-chat" title="Permanent link">&para;</a></h3>
<p>Templates work automatically! Just use natural language:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>help                    ‚Üí Returns help_table template
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>status                  ‚Üí Returns status_check template  
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>getting started         ‚Üí Returns quick_start template
</span></code></pre></div>
<hr />
<h2 id="template-anatomy">üé® Template Anatomy<a class="headerlink" href="#template-anatomy" title="Permanent link">&para;</a></h2>
<h3 id="basic-template-structure">Basic Template Structure<a class="headerlink" href="#basic-template-structure" title="Permanent link">&para;</a></h3>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="nt">templates</span><span class="p">:</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="w">  </span><span class="nt">template_id</span><span class="p">:</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="w">    </span><span class="nt">triggers</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">list of phrases that trigger this template</span><span class="p p-Indicator">]</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="w">    </span><span class="nt">response_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">table | list | detailed | narrative | json</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="w">    </span><span class="nt">context_needed</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false | true</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="w">    </span><span class="nt">verbosity</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">concise | detailed | expert</span>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="w">    </span><span class="nt">metadata</span><span class="p">:</span>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="w">      </span><span class="nt">category</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">system | agent | operation | error | plugin</span>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="w">    </span><span class="nt">content</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a><span class="w">      </span><span class="no">Your template content here</span>
</span><span id="__span-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a><span class="w">      </span><span class="no">Use {{placeholders}} for dynamic values</span>
</span></code></pre></div>
<h3 id="example-template">Example Template<a class="headerlink" href="#example-template" title="Permanent link">&para;</a></h3>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="nt">templates</span><span class="p">:</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="w">  </span><span class="nt">executor_success</span><span class="p">:</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="w">    </span><span class="nt">triggers</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[]</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="w">    </span><span class="nt">response_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">detailed</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="w">    </span><span class="nt">context_needed</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="w">    </span><span class="nt">verbosity</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">concise</span>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="w">    </span><span class="nt">metadata</span><span class="p">:</span>
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="w">      </span><span class="nt">category</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">agent</span>
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a><span class="w">      </span><span class="nt">agent</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">executor</span>
</span><span id="__span-3-10"><a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a><span class="w">    </span><span class="nt">content</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
</span><span id="__span-3-11"><a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a><span class="w">      </span><span class="no">‚úÖ **Feature Implemented**</span>
</span><span id="__span-3-12"><a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a>
</span><span id="__span-3-13"><a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a><span class="w">      </span><span class="no">Files Modified: {{files_count}}</span>
</span><span id="__span-3-14"><a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a><span class="w">      </span><span class="no">{{#files}}</span>
</span><span id="__span-3-15"><a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a><span class="w">      </span><span class="no">‚Ä¢ {{path}}</span>
</span><span id="__span-3-16"><a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a><span class="w">      </span><span class="no">{{/files}}</span>
</span><span id="__span-3-17"><a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a>
</span><span id="__span-3-18"><a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a><span class="w">      </span><span class="no">Next: {{next_action}}</span>
</span></code></pre></div>
<hr />
<h2 id="placeholder-syntax">üîß Placeholder Syntax<a class="headerlink" href="#placeholder-syntax" title="Permanent link">&para;</a></h2>
<h3 id="simple-placeholders">Simple Placeholders<a class="headerlink" href="#simple-placeholders" title="Permanent link">&para;</a></h3>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="nt">content</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="w">  </span><span class="no">Hello {{name}}, you have {{count}} messages.</span>
</span></code></pre></div>
<p><strong>Context:</strong>
<div class="language-python highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Alice&#39;</span><span class="p">,</span> <span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">}</span>
</span></code></pre></div></p>
<p><strong>Output:</strong>
<div class="language-text highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>Hello Alice, you have 5 messages.
</span></code></pre></div></p>
<h3 id="conditionals">Conditionals<a class="headerlink" href="#conditionals" title="Permanent link">&para;</a></h3>
<p>Show content only if condition is true:</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="nt">content</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="w">  </span><span class="no">Result: Success</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="w">  </span><span class="no">{{#if warnings}}</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="w">  </span><span class="no">‚ö†Ô∏è Warnings: {{warnings}}</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="w">  </span><span class="no">{{/if}}</span>
</span></code></pre></div>
<p><strong>Context (with warnings):</strong>
<div class="language-python highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="p">{</span><span class="s1">&#39;warnings&#39;</span><span class="p">:</span> <span class="s1">&#39;Some issues detected&#39;</span><span class="p">}</span>
</span></code></pre></div></p>
<p><strong>Output:</strong>
<div class="language-text highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>Result: Success
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>‚ö†Ô∏è Warnings: Some issues detected
</span></code></pre></div></p>
<p><strong>Context (no warnings):</strong>
<div class="language-python highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="p">{}</span>
</span></code></pre></div></p>
<p><strong>Output:</strong>
<div class="language-text highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>Result: Success
</span></code></pre></div></p>
<h3 id="loops">Loops<a class="headerlink" href="#loops" title="Permanent link">&para;</a></h3>
<p>Iterate over lists:</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="nt">content</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="w">  </span><span class="no">Files Modified:</span>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="w">  </span><span class="no">{{#files}}</span>
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="w">  </span><span class="no">‚Ä¢ {{path}} ({{changes}} changes)</span>
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="w">  </span><span class="no">{{/files}}</span>
</span></code></pre></div>
<p><strong>Context:</strong>
<div class="language-python highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="p">{</span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>    <span class="s1">&#39;files&#39;</span><span class="p">:</span> <span class="p">[</span>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>        <span class="p">{</span><span class="s1">&#39;path&#39;</span><span class="p">:</span> <span class="s1">&#39;src/auth.py&#39;</span><span class="p">,</span> <span class="s1">&#39;changes&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">},</span>
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a>        <span class="p">{</span><span class="s1">&#39;path&#39;</span><span class="p">:</span> <span class="s1">&#39;src/models.py&#39;</span><span class="p">,</span> <span class="s1">&#39;changes&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">}</span>
</span><span id="__span-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a>    <span class="p">]</span>
</span><span id="__span-13-6"><a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a><span class="p">}</span>
</span></code></pre></div></p>
<p><strong>Output:</strong>
<div class="language-text highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>Files Modified:
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>‚Ä¢ src/auth.py (3 changes)
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>‚Ä¢ src/models.py (5 changes)
</span></code></pre></div></p>
<h3 id="verbosity-sections">Verbosity Sections<a class="headerlink" href="#verbosity-sections" title="Permanent link">&para;</a></h3>
<p>Control output by verbosity level:</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="nt">content</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="w">  </span><span class="no">‚úÖ Success</span>
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>
</span><span id="__span-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span class="w">  </span><span class="no">[concise]</span>
</span><span id="__span-15-5"><a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a><span class="w">  </span><span class="no">Quick summary</span>
</span><span id="__span-15-6"><a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a><span class="w">  </span><span class="no">[/concise]</span>
</span><span id="__span-15-7"><a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a>
</span><span id="__span-15-8"><a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a><span class="w">  </span><span class="no">[detailed]</span>
</span><span id="__span-15-9"><a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a><span class="w">  </span><span class="no">Detailed breakdown with metrics</span>
</span><span id="__span-15-10"><a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a><span class="w">  </span><span class="no">[/detailed]</span>
</span><span id="__span-15-11"><a id="__codelineno-15-11" name="__codelineno-15-11" href="#__codelineno-15-11"></a>
</span><span id="__span-15-12"><a id="__codelineno-15-12" name="__codelineno-15-12" href="#__codelineno-15-12"></a><span class="w">  </span><span class="no">[expert]</span>
</span><span id="__span-15-13"><a id="__codelineno-15-13" name="__codelineno-15-13" href="#__codelineno-15-13"></a><span class="w">  </span><span class="no">Full technical details and logs</span>
</span><span id="__span-15-14"><a id="__codelineno-15-14" name="__codelineno-15-14" href="#__codelineno-15-14"></a><span class="w">  </span><span class="no">[/expert]</span>
</span></code></pre></div>
<p><strong>When verbosity='concise':</strong>
<div class="language-text highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>‚úÖ Success
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>Quick summary
</span></code></pre></div></p>
<p><strong>When verbosity='detailed':</strong>
<div class="language-text highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>‚úÖ Success
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>Detailed breakdown with metrics
</span></code></pre></div></p>
<hr />
<h2 id="template-categories">üìÇ Template Categories<a class="headerlink" href="#template-categories" title="Permanent link">&para;</a></h2>
<h3 id="system-templates-15-templates">System Templates (15 templates)<a class="headerlink" href="#system-templates-15-templates" title="Permanent link">&para;</a></h3>
<p>Always available, zero-execution responses:</p>
<ul>
<li><code>help_table</code> - Quick command reference</li>
<li><code>help_detailed</code> - Categorized commands</li>
<li><code>help_list</code> - Simple list format</li>
<li><code>status_check</code> - Implementation status</li>
<li><code>quick_start</code> - First-time user guide</li>
<li><code>version_info</code> - Version information</li>
<li><code>about</code> - About CORTEX</li>
<li><code>commands_by_category</code> - Organized commands</li>
<li><code>error_general</code> - Generic error</li>
<li><code>success_general</code> - Generic success</li>
<li><code>not_implemented</code> - Feature pending</li>
</ul>
<h3 id="agent-templates-20-templates">Agent Templates (20 templates)<a class="headerlink" href="#agent-templates-20-templates" title="Permanent link">&para;</a></h3>
<p>2 per agent (success/error):</p>
<ul>
<li><code>executor_success</code> / <code>executor_error</code></li>
<li><code>tester_success</code> / <code>tester_error</code></li>
<li><code>validator_success</code> / <code>validator_error</code></li>
<li><code>work_planner_success</code> / <code>work_planner_error</code></li>
<li><code>documenter_success</code> / <code>documenter_error</code></li>
<li><code>intent_detector_success</code> / <code>intent_detector_error</code></li>
<li><code>architect_success</code> / <code>architect_error</code></li>
<li><code>health_validator_success</code> / <code>health_validator_error</code></li>
<li><code>pattern_matcher_success</code> / <code>pattern_matcher_error</code></li>
<li><code>learner_success</code> / <code>learner_error</code></li>
</ul>
<h3 id="operation-templates-30-templates">Operation Templates (30 templates)<a class="headerlink" href="#operation-templates-30-templates" title="Permanent link">&para;</a></h3>
<p>Lifecycle templates for operations:</p>
<ul>
<li><code>operation_started</code> / <code>operation_progress</code> / <code>operation_complete</code> / <code>operation_failed</code></li>
<li><code>setup_started</code> / <code>setup_complete</code></li>
<li><code>cleanup_started</code> / <code>cleanup_complete</code></li>
<li><code>story_refresh_started</code> / <code>story_refresh_complete</code></li>
<li><code>docs_build_started</code> / <code>docs_build_complete</code></li>
<li><code>brain_check_started</code> / <code>brain_check_complete</code></li>
<li><code>tests_started</code> / <code>tests_complete</code></li>
</ul>
<h3 id="error-templates-15-templates">Error Templates (15 templates)<a class="headerlink" href="#error-templates-15-templates" title="Permanent link">&para;</a></h3>
<p>Standardized error reporting:</p>
<ul>
<li><code>missing_dependency</code> - Missing package</li>
<li><code>permission_denied</code> - Permission issues</li>
<li><code>validation_failed</code> - Validation errors</li>
<li><code>file_not_found</code> - File missing</li>
<li><code>network_error</code> - Network issues</li>
<li><code>timeout_error</code> - Operation timeout</li>
<li><code>configuration_error</code> - Config problems</li>
<li><code>syntax_error</code> - Code syntax issues</li>
<li><code>import_error</code> - Import failures</li>
<li><code>runtime_error</code> - Runtime exceptions</li>
<li><code>database_error</code> - Database issues</li>
<li><code>path_error</code> - Invalid paths</li>
<li><code>type_error</code> - Type mismatches</li>
<li><code>value_error</code> - Invalid values</li>
<li><code>unknown_error</code> - Unexpected errors</li>
</ul>
<h3 id="plugin-templates-10-templates">Plugin Templates (10 templates)<a class="headerlink" href="#plugin-templates-10-templates" title="Permanent link">&para;</a></h3>
<p>Plugin lifecycle templates:</p>
<ul>
<li><code>plugin_registered</code> - Plugin registration</li>
<li><code>plugin_execution_started</code> - Plugin starting</li>
<li><code>plugin_execution_complete</code> - Plugin complete</li>
<li><code>plugin_execution_failed</code> - Plugin failed</li>
<li><code>platform_switch_detected</code> - Platform change</li>
<li><code>platform_switch_complete</code> - Platform configured</li>
<li><code>cleanup_scan_complete</code> - Cleanup scan done</li>
<li><code>doc_refresh_analyzing</code> - Doc analysis</li>
<li><code>doc_refresh_complete</code> - Docs refreshed</li>
<li><code>extension_scaffold_complete</code> - Extension created</li>
</ul>
<hr />
<h2 id="plugin-template-registration">üîå Plugin Template Registration<a class="headerlink" href="#plugin-template-registration" title="Permanent link">&para;</a></h2>
<p>Plugins can register custom templates:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">src.plugins.base_plugin</span><span class="w"> </span><span class="kn">import</span> <span class="n">BasePlugin</span>
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="kn">from</span><span class="w"> </span><span class="nn">src.response_templates.template_loader</span><span class="w"> </span><span class="kn">import</span> <span class="n">Template</span>
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>
</span><span id="__span-18-4"><a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a><span class="k">class</span><span class="w"> </span><span class="nc">MyPlugin</span><span class="p">(</span><span class="n">BasePlugin</span><span class="p">):</span>
</span><span id="__span-18-5"><a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">register_templates</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-18-6"><a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Register plugin-specific templates.&quot;&quot;&quot;</span>
</span><span id="__span-18-7"><a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a>        <span class="k">return</span> <span class="p">[</span>
</span><span id="__span-18-8"><a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a>            <span class="n">Template</span><span class="p">(</span>
</span><span id="__span-18-9"><a id="__codelineno-18-9" name="__codelineno-18-9" href="#__codelineno-18-9"></a>                <span class="n">template_id</span><span class="o">=</span><span class="s1">&#39;my_plugin_success&#39;</span><span class="p">,</span>
</span><span id="__span-18-10"><a id="__codelineno-18-10" name="__codelineno-18-10" href="#__codelineno-18-10"></a>                <span class="n">triggers</span><span class="o">=</span><span class="p">[],</span>
</span><span id="__span-18-11"><a id="__codelineno-18-11" name="__codelineno-18-11" href="#__codelineno-18-11"></a>                <span class="n">response_type</span><span class="o">=</span><span class="s1">&#39;narrative&#39;</span><span class="p">,</span>
</span><span id="__span-18-12"><a id="__codelineno-18-12" name="__codelineno-18-12" href="#__codelineno-18-12"></a>                <span class="n">context_needed</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span><span id="__span-18-13"><a id="__codelineno-18-13" name="__codelineno-18-13" href="#__codelineno-18-13"></a>                <span class="n">content</span><span class="o">=</span><span class="s1">&#39;‚úÖ {{plugin_name}} executed successfully</span><span class="se">\n</span><span class="s1">Result: {{result}}&#39;</span><span class="p">,</span>
</span><span id="__span-18-14"><a id="__codelineno-18-14" name="__codelineno-18-14" href="#__codelineno-18-14"></a>                <span class="n">verbosity</span><span class="o">=</span><span class="s1">&#39;concise&#39;</span><span class="p">,</span>
</span><span id="__span-18-15"><a id="__codelineno-18-15" name="__codelineno-18-15" href="#__codelineno-18-15"></a>                <span class="n">metadata</span><span class="o">=</span><span class="p">{</span>
</span><span id="__span-18-16"><a id="__codelineno-18-16" name="__codelineno-18-16" href="#__codelineno-18-16"></a>                    <span class="s1">&#39;category&#39;</span><span class="p">:</span> <span class="s1">&#39;plugin&#39;</span><span class="p">,</span>
</span><span id="__span-18-17"><a id="__codelineno-18-17" name="__codelineno-18-17" href="#__codelineno-18-17"></a>                    <span class="s1">&#39;plugin_id&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">plugin_id</span>
</span><span id="__span-18-18"><a id="__codelineno-18-18" name="__codelineno-18-18" href="#__codelineno-18-18"></a>                <span class="p">}</span>
</span><span id="__span-18-19"><a id="__codelineno-18-19" name="__codelineno-18-19" href="#__codelineno-18-19"></a>            <span class="p">)</span>
</span><span id="__span-18-20"><a id="__codelineno-18-20" name="__codelineno-18-20" href="#__codelineno-18-20"></a>        <span class="p">]</span>
</span><span id="__span-18-21"><a id="__codelineno-18-21" name="__codelineno-18-21" href="#__codelineno-18-21"></a>
</span><span id="__span-18-22"><a id="__codelineno-18-22" name="__codelineno-18-22" href="#__codelineno-18-22"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">context</span><span class="p">):</span>
</span><span id="__span-18-23"><a id="__codelineno-18-23" name="__codelineno-18-23" href="#__codelineno-18-23"></a>        <span class="c1"># Do work...</span>
</span><span id="__span-18-24"><a id="__codelineno-18-24" name="__codelineno-18-24" href="#__codelineno-18-24"></a>        <span class="n">result</span> <span class="o">=</span> <span class="n">do_something</span><span class="p">()</span>
</span><span id="__span-18-25"><a id="__codelineno-18-25" name="__codelineno-18-25" href="#__codelineno-18-25"></a>
</span><span id="__span-18-26"><a id="__codelineno-18-26" name="__codelineno-18-26" href="#__codelineno-18-26"></a>        <span class="c1"># Use template for response</span>
</span><span id="__span-18-27"><a id="__codelineno-18-27" name="__codelineno-18-27" href="#__codelineno-18-27"></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">format_from_template</span><span class="p">(</span>
</span><span id="__span-18-28"><a id="__codelineno-18-28" name="__codelineno-18-28" href="#__codelineno-18-28"></a>            <span class="s1">&#39;my_plugin_success&#39;</span><span class="p">,</span>
</span><span id="__span-18-29"><a id="__codelineno-18-29" name="__codelineno-18-29" href="#__codelineno-18-29"></a>            <span class="n">context</span><span class="o">=</span><span class="p">{</span>
</span><span id="__span-18-30"><a id="__codelineno-18-30" name="__codelineno-18-30" href="#__codelineno-18-30"></a>                <span class="s1">&#39;plugin_name&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
</span><span id="__span-18-31"><a id="__codelineno-18-31" name="__codelineno-18-31" href="#__codelineno-18-31"></a>                <span class="s1">&#39;result&#39;</span><span class="p">:</span> <span class="n">result</span>
</span><span id="__span-18-32"><a id="__codelineno-18-32" name="__codelineno-18-32" href="#__codelineno-18-32"></a>            <span class="p">}</span>
</span><span id="__span-18-33"><a id="__codelineno-18-33" name="__codelineno-18-33" href="#__codelineno-18-33"></a>        <span class="p">)</span>
</span></code></pre></div>
<hr />
<h2 id="best-practices">üìä Best Practices<a class="headerlink" href="#best-practices" title="Permanent link">&para;</a></h2>
<h3 id="1-use-appropriate-verbosity">1. Use Appropriate Verbosity<a class="headerlink" href="#1-use-appropriate-verbosity" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>concise</strong> (50-150 words) - Default, quick summaries</li>
<li><strong>detailed</strong> (200-400 words) - Structured breakdowns</li>
<li><strong>expert</strong> (no limit) - Full technical details</li>
</ul>
<h3 id="2-provide-meaningful-context">2. Provide Meaningful Context<a class="headerlink" href="#2-provide-meaningful-context" title="Permanent link">&para;</a></h3>
<p>Always include all required placeholders:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="c1"># ‚úÖ Good - All placeholders provided</span>
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="n">formatter</span><span class="o">.</span><span class="n">format_from_template</span><span class="p">(</span>
</span><span id="__span-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a>    <span class="s1">&#39;executor_success&#39;</span><span class="p">,</span>
</span><span id="__span-19-4"><a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a>    <span class="n">context</span><span class="o">=</span><span class="p">{</span>
</span><span id="__span-19-5"><a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a>        <span class="s1">&#39;files_count&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
</span><span id="__span-19-6"><a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a>        <span class="s1">&#39;files&#39;</span><span class="p">:</span> <span class="p">[</span><span class="o">...</span><span class="p">],</span>
</span><span id="__span-19-7"><a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a>        <span class="s1">&#39;next_action&#39;</span><span class="p">:</span> <span class="s1">&#39;Run tests&#39;</span>
</span><span id="__span-19-8"><a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a>    <span class="p">}</span>
</span><span id="__span-19-9"><a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a><span class="p">)</span>
</span><span id="__span-19-10"><a id="__codelineno-19-10" name="__codelineno-19-10" href="#__codelineno-19-10"></a>
</span><span id="__span-19-11"><a id="__codelineno-19-11" name="__codelineno-19-11" href="#__codelineno-19-11"></a><span class="c1"># ‚ùå Bad - Missing required placeholders</span>
</span><span id="__span-19-12"><a id="__codelineno-19-12" name="__codelineno-19-12" href="#__codelineno-19-12"></a><span class="n">formatter</span><span class="o">.</span><span class="n">format_from_template</span><span class="p">(</span>
</span><span id="__span-19-13"><a id="__codelineno-19-13" name="__codelineno-19-13" href="#__codelineno-19-13"></a>    <span class="s1">&#39;executor_success&#39;</span><span class="p">,</span>
</span><span id="__span-19-14"><a id="__codelineno-19-14" name="__codelineno-19-14" href="#__codelineno-19-14"></a>    <span class="n">context</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;files_count&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">}</span>  <span class="c1"># Missing files and next_action</span>
</span><span id="__span-19-15"><a id="__codelineno-19-15" name="__codelineno-19-15" href="#__codelineno-19-15"></a><span class="p">)</span>
</span></code></pre></div>
<h3 id="3-use-conditionals-for-optional-content">3. Use Conditionals for Optional Content<a class="headerlink" href="#3-use-conditionals-for-optional-content" title="Permanent link">&para;</a></h3>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="nt">content</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="w">  </span><span class="no">‚úÖ Success</span>
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a>
</span><span id="__span-20-4"><a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="w">  </span><span class="no">{{#if warnings}}</span>
</span><span id="__span-20-5"><a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a><span class="w">  </span><span class="no">‚ö†Ô∏è Warnings: {{warnings}}</span>
</span><span id="__span-20-6"><a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a><span class="w">  </span><span class="no">{{/if}}</span>
</span><span id="__span-20-7"><a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a>
</span><span id="__span-20-8"><a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a><span class="w">  </span><span class="no">{{#if recommendations}}</span>
</span><span id="__span-20-9"><a id="__codelineno-20-9" name="__codelineno-20-9" href="#__codelineno-20-9"></a><span class="w">  </span><span class="no">üí° Recommendations:</span>
</span><span id="__span-20-10"><a id="__codelineno-20-10" name="__codelineno-20-10" href="#__codelineno-20-10"></a><span class="w">  </span><span class="no">{{#recommendations}}</span>
</span><span id="__span-20-11"><a id="__codelineno-20-11" name="__codelineno-20-11" href="#__codelineno-20-11"></a><span class="w">  </span><span class="no">‚Ä¢ {{text}}</span>
</span><span id="__span-20-12"><a id="__codelineno-20-12" name="__codelineno-20-12" href="#__codelineno-20-12"></a><span class="w">  </span><span class="no">{{/recommendations}}</span>
</span><span id="__span-20-13"><a id="__codelineno-20-13" name="__codelineno-20-13" href="#__codelineno-20-13"></a><span class="w">  </span><span class="no">{{/if}}</span>
</span></code></pre></div>
<h3 id="4-keep-templates-focused">4. Keep Templates Focused<a class="headerlink" href="#4-keep-templates-focused" title="Permanent link">&para;</a></h3>
<p>One template = one purpose. Don't create mega-templates that try to handle everything.</p>
<h3 id="5-use-metadata-for-organization">5. Use Metadata for Organization<a class="headerlink" href="#5-use-metadata-for-organization" title="Permanent link">&para;</a></h3>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="nt">metadata</span><span class="p">:</span>
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="w">  </span><span class="nt">category</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">agent</span>
</span><span id="__span-21-3"><a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a><span class="w">  </span><span class="nt">agent</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">executor</span>
</span><span id="__span-21-4"><a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="w">  </span><span class="nt">priority</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">high</span>
</span><span id="__span-21-5"><a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a><span class="w">  </span><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2.0</span>
</span></code></pre></div>
<hr />
<h2 id="migration-guide">üöÄ Migration Guide<a class="headerlink" href="#migration-guide" title="Permanent link">&para;</a></h2>
<h3 id="migrating-from-code-based-formatting">Migrating from Code-Based Formatting<a class="headerlink" href="#migrating-from-code-based-formatting" title="Permanent link">&para;</a></h3>
<p><strong>Before (code-based):</strong>
<div class="language-python highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">format_success</span><span class="p">(</span><span class="n">result</span><span class="p">):</span>
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a>    <span class="n">lines</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-22-3"><a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a>    <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;‚úÖ Success!&quot;</span><span class="p">)</span>
</span><span id="__span-22-4"><a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a>    <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Files: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">files</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-22-5"><a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a>    <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">result</span><span class="o">.</span><span class="n">files</span><span class="p">:</span>
</span><span id="__span-22-6"><a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a>        <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  ‚Ä¢ </span><span class="si">{</span><span class="n">file</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-22-7"><a id="__codelineno-22-7" name="__codelineno-22-7" href="#__codelineno-22-7"></a>    <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Next: </span><span class="si">{</span><span class="n">result</span><span class="o">.</span><span class="n">next_action</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-22-8"><a id="__codelineno-22-8" name="__codelineno-22-8" href="#__codelineno-22-8"></a>    <span class="k">return</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>After (template-based):</strong>
<div class="language-python highlight"><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">format_success</span><span class="p">(</span><span class="n">result</span><span class="p">):</span>
</span><span id="__span-23-2"><a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a>    <span class="k">return</span> <span class="n">formatter</span><span class="o">.</span><span class="n">format_from_template</span><span class="p">(</span>
</span><span id="__span-23-3"><a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a>        <span class="s1">&#39;executor_success&#39;</span><span class="p">,</span>
</span><span id="__span-23-4"><a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a>        <span class="n">context</span><span class="o">=</span><span class="p">{</span>
</span><span id="__span-23-5"><a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a>            <span class="s1">&#39;files_count&#39;</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">files</span><span class="p">),</span>
</span><span id="__span-23-6"><a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a>            <span class="s1">&#39;files&#39;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;path&#39;</span><span class="p">:</span> <span class="n">f</span><span class="p">}</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">result</span><span class="o">.</span><span class="n">files</span><span class="p">],</span>
</span><span id="__span-23-7"><a id="__codelineno-23-7" name="__codelineno-23-7" href="#__codelineno-23-7"></a>            <span class="s1">&#39;next_action&#39;</span><span class="p">:</span> <span class="n">result</span><span class="o">.</span><span class="n">next_action</span>
</span><span id="__span-23-8"><a id="__codelineno-23-8" name="__codelineno-23-8" href="#__codelineno-23-8"></a>        <span class="p">}</span>
</span><span id="__span-23-9"><a id="__codelineno-23-9" name="__codelineno-23-9" href="#__codelineno-23-9"></a>    <span class="p">)</span>
</span></code></pre></div></p>
<h3 id="benefits-of-migration">Benefits of Migration<a class="headerlink" href="#benefits-of-migration" title="Permanent link">&para;</a></h3>
<p>‚úÖ 90% less code<br />
‚úÖ Consistent formatting<br />
‚úÖ Easy to update (change YAML, not code)<br />
‚úÖ Automatic verbosity control<br />
‚úÖ Better testing (test template, not formatting logic)</p>
<hr />
<h2 id="examples">üéØ Examples<a class="headerlink" href="#examples" title="Permanent link">&para;</a></h2>
<h3 id="example-1-simple-help-command">Example 1: Simple Help Command<a class="headerlink" href="#example-1-simple-help-command" title="Permanent link">&para;</a></h3>
<p><strong>Code:</strong>
<div class="language-python highlight"><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="n">result</span> <span class="o">=</span> <span class="n">formatter</span><span class="o">.</span><span class="n">format_from_trigger</span><span class="p">(</span><span class="s1">&#39;help&#39;</span><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>Output:</strong>
<div class="language-text highlight"><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a>================================================================================
</span><span id="__span-25-2"><a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a>CORTEX COMMANDS
</span><span id="__span-25-3"><a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a>================================================================================
</span><span id="__span-25-4"><a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a>
</span><span id="__span-25-5"><a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a>Status  Command        What It Does
</span><span id="__span-25-6"><a id="__codelineno-25-6" name="__codelineno-25-6" href="#__codelineno-25-6"></a>--------------------------------------------------------------------------------
</span><span id="__span-25-7"><a id="__codelineno-25-7" name="__codelineno-25-7" href="#__codelineno-25-7"></a>‚úÖ      update story   Refresh CORTEX story documentation
</span><span id="__span-25-8"><a id="__codelineno-25-8" name="__codelineno-25-8" href="#__codelineno-25-8"></a>üîÑ      setup          Setup/configure environment
</span><span id="__span-25-9"><a id="__codelineno-25-9" name="__codelineno-25-9" href="#__codelineno-25-9"></a>üîÑ      cleanup        Clean temporary files
</span><span id="__span-25-10"><a id="__codelineno-25-10" name="__codelineno-25-10" href="#__codelineno-25-10"></a>...
</span><span id="__span-25-11"><a id="__codelineno-25-11" name="__codelineno-25-11" href="#__codelineno-25-11"></a>================================================================================
</span></code></pre></div></p>
<h3 id="example-2-agent-success">Example 2: Agent Success<a class="headerlink" href="#example-2-agent-success" title="Permanent link">&para;</a></h3>
<p><strong>Code:</strong>
<div class="language-python highlight"><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="n">result</span> <span class="o">=</span> <span class="n">formatter</span><span class="o">.</span><span class="n">format_from_template</span><span class="p">(</span>
</span><span id="__span-26-2"><a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a>    <span class="s1">&#39;executor_success&#39;</span><span class="p">,</span>
</span><span id="__span-26-3"><a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a>    <span class="n">context</span><span class="o">=</span><span class="p">{</span>
</span><span id="__span-26-4"><a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a>        <span class="s1">&#39;files_count&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
</span><span id="__span-26-5"><a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a>        <span class="s1">&#39;files&#39;</span><span class="p">:</span> <span class="p">[</span>
</span><span id="__span-26-6"><a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a>            <span class="p">{</span><span class="s1">&#39;path&#39;</span><span class="p">:</span> <span class="s1">&#39;src/auth.py&#39;</span><span class="p">},</span>
</span><span id="__span-26-7"><a id="__codelineno-26-7" name="__codelineno-26-7" href="#__codelineno-26-7"></a>            <span class="p">{</span><span class="s1">&#39;path&#39;</span><span class="p">:</span> <span class="s1">&#39;tests/test_auth.py&#39;</span><span class="p">}</span>
</span><span id="__span-26-8"><a id="__codelineno-26-8" name="__codelineno-26-8" href="#__codelineno-26-8"></a>        <span class="p">],</span>
</span><span id="__span-26-9"><a id="__codelineno-26-9" name="__codelineno-26-9" href="#__codelineno-26-9"></a>        <span class="s1">&#39;next_action&#39;</span><span class="p">:</span> <span class="s1">&#39;Run pytest&#39;</span>
</span><span id="__span-26-10"><a id="__codelineno-26-10" name="__codelineno-26-10" href="#__codelineno-26-10"></a>    <span class="p">}</span>
</span><span id="__span-26-11"><a id="__codelineno-26-11" name="__codelineno-26-11" href="#__codelineno-26-11"></a><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>Output:</strong>
<div class="language-text highlight"><pre><span></span><code><span id="__span-27-1"><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a>‚úÖ **Feature Implemented**
</span><span id="__span-27-2"><a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a>
</span><span id="__span-27-3"><a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a>Files Modified: 2
</span><span id="__span-27-4"><a id="__codelineno-27-4" name="__codelineno-27-4" href="#__codelineno-27-4"></a>‚Ä¢ src/auth.py
</span><span id="__span-27-5"><a id="__codelineno-27-5" name="__codelineno-27-5" href="#__codelineno-27-5"></a>‚Ä¢ tests/test_auth.py
</span><span id="__span-27-6"><a id="__codelineno-27-6" name="__codelineno-27-6" href="#__codelineno-27-6"></a>
</span><span id="__span-27-7"><a id="__codelineno-27-7" name="__codelineno-27-7" href="#__codelineno-27-7"></a>Next: Run pytest
</span></code></pre></div></p>
<h3 id="example-3-error-reporting">Example 3: Error Reporting<a class="headerlink" href="#example-3-error-reporting" title="Permanent link">&para;</a></h3>
<p><strong>Code:</strong>
<div class="language-python highlight"><pre><span></span><code><span id="__span-28-1"><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="n">result</span> <span class="o">=</span> <span class="n">formatter</span><span class="o">.</span><span class="n">format_from_template</span><span class="p">(</span>
</span><span id="__span-28-2"><a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a>    <span class="s1">&#39;missing_dependency&#39;</span><span class="p">,</span>
</span><span id="__span-28-3"><a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a>    <span class="n">context</span><span class="o">=</span><span class="p">{</span>
</span><span id="__span-28-4"><a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a>        <span class="s1">&#39;package_name&#39;</span><span class="p">:</span> <span class="s1">&#39;requests&#39;</span><span class="p">,</span>
</span><span id="__span-28-5"><a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a>        <span class="s1">&#39;required_by&#39;</span><span class="p">:</span> <span class="s1">&#39;api_client.py&#39;</span>
</span><span id="__span-28-6"><a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a>    <span class="p">}</span>
</span><span id="__span-28-7"><a id="__codelineno-28-7" name="__codelineno-28-7" href="#__codelineno-28-7"></a><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>Output:</strong>
<div class="language-text highlight"><pre><span></span><code><span id="__span-29-1"><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a>‚ùå **Missing Dependency**
</span><span id="__span-29-2"><a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a>
</span><span id="__span-29-3"><a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a>Package: requests
</span><span id="__span-29-4"><a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a>Required by: api_client.py
</span><span id="__span-29-5"><a id="__codelineno-29-5" name="__codelineno-29-5" href="#__codelineno-29-5"></a>
</span><span id="__span-29-6"><a id="__codelineno-29-6" name="__codelineno-29-6" href="#__codelineno-29-6"></a>Fix: pip install requests
</span></code></pre></div></p>
<hr />
<h2 id="reference">üìñ Reference<a class="headerlink" href="#reference" title="Permanent link">&para;</a></h2>
<h3 id="template-file-location">Template File Location<a class="headerlink" href="#template-file-location" title="Permanent link">&para;</a></h3>
<div class="language-text highlight"><pre><span></span><code><span id="__span-30-1"><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a>cortex-brain/response-templates.yaml
</span></code></pre></div>
<h3 id="api-reference">API Reference<a class="headerlink" href="#api-reference" title="Permanent link">&para;</a></h3>
<p><strong>ResponseFormatter:</strong>
- <code>format_from_template(template_id, context, verbosity)</code> - Format using template ID
- <code>format_from_trigger(trigger, context, verbosity)</code> - Format using trigger phrase
- <code>register_plugin_templates(plugin_id, templates)</code> - Register plugin templates
- <code>list_available_templates(category)</code> - List all templates</p>
<p><strong>TemplateLoader:</strong>
- <code>load_template(template_id)</code> - Load specific template
- <code>find_by_trigger(trigger)</code> - Find template by trigger
- <code>list_templates(category)</code> - List all templates
- <code>get_template_ids()</code> - Get all template IDs</p>
<p><strong>TemplateRenderer:</strong>
- <code>render(template, context, verbosity)</code> - Render template
- <code>render_with_placeholders(template, **kwargs)</code> - Render with kwargs
- <code>apply_verbosity(content, verbosity)</code> - Apply verbosity filtering
- <code>convert_format(content, format)</code> - Convert format (text/markdown/json)</p>
<hr />
<h2 id="troubleshooting">üÜò Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permanent link">&para;</a></h2>
<h3 id="template-not-found">Template Not Found<a class="headerlink" href="#template-not-found" title="Permanent link">&para;</a></h3>
<p><strong>Error:</strong> <code>‚ùå Template 'my_template' not found</code></p>
<p><strong>Solution:</strong> Check template ID exists in response-templates.yaml</p>
<h3 id="missing-placeholder-values">Missing Placeholder Values<a class="headerlink" href="#missing-placeholder-values" title="Permanent link">&para;</a></h3>
<p><strong>Output:</strong> <code>{{MISSING: placeholder_name}}</code></p>
<p><strong>Solution:</strong> Provide all required placeholders in context dictionary</p>
<h3 id="template-system-unavailable">Template System Unavailable<a class="headerlink" href="#template-system-unavailable" title="Permanent link">&para;</a></h3>
<p><strong>Warning:</strong> <code>Template system unavailable: &lt;error&gt;</code></p>
<p><strong>Solution:</strong> Check that cortex-brain/response-templates.yaml exists and is valid YAML</p>
<h3 id="performance-issues">Performance Issues<a class="headerlink" href="#performance-issues" title="Permanent link">&para;</a></h3>
<p>If template loading is slow:
- Check file size (should be &lt; 1MB)
- Ensure YAML is well-formed
- Consider caching template loader instance</p>
<hr />
<p><strong>Questions?</strong> See <code>cortex-brain/cortex-2.0-design/RESPONSE-TEMPLATE-ARCHITECTURE.md</code> for full design details.</p>
                    </article>
                    
                    <!-- Page Navigation -->
                    <div class="page-navigation">
                        
                        
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <div class="widewrapper footer">
            <div class="container">
                <div class="row">
                    <div class="col-md-12 text-center">
                        <p>
                            ¬© 2024-2025 Asif Hussain. All rights reserved.
                            <span class="separator">|</span>
                            <a href="https://github.com/asifhussain60/CORTEX" target="_blank">
                                <i class="fa fa-github"></i> GitHub
                            </a>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/js/bootstrap.min.js"></script>
    
    <!-- Syntax Highlighting -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
    
    <!-- MkDocs Search -->
    <script src="../search/main.js"></script>
</body>
</html>